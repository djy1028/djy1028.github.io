<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Stay foolish Stay hungray">
<meta property="og:type" content="website">
<meta property="og:title" content="С�����ľ���">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="С�����ľ���">
<meta property="og:description" content="Stay foolish Stay hungray">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="С�����ľ���">
<meta name="twitter:description" content="Stay foolish Stay hungray">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>С�����ľ���</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">С�����ľ���</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">С�����ľ���</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/04/原生js基础(2)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/04/原生js基础(2)/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T20:06:09+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/04/原生js基础(2)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/04/原生js基础(2)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/08/04/原生js基础(2)/" class="leancloud_visitors" data-flag-title="">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: 原生js知识<br>date: 2017-07-09<br>tags: 基本知识</p>
<h2 id="categories-基本知识"><a href="#categories-基本知识" class="headerlink" title="categories: 基本知识"></a>categories: 基本知识</h2><p>#Object对象的一些属性和方法</p>
<h2 id="constructor属性"><a href="#constructor属性" class="headerlink" title="constructor属性"></a>constructor属性</h2><p><strong>指定创建一个对象的函数</strong>。</p>
<p>constructor属性是每个具有原型的对象的原型成员。  这包括除 Global 和 Math 对象之外的所有内部 JavaScript 对象。 constructor 属性包含了对某种函数的引用，此种函数构造了特定对象的实例。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function MyObj() &#123;</div><div class="line">    this.number = 1;</div><div class="line">&#125;</div><div class="line">var y = new MyObj;</div><div class="line">if (y.constructor == MyObj)</div><div class="line">    console.log(true)</div><div class="line">输出true</div></pre></td></tr></table></figure></p>
<h2 id="prototype属性"><a href="#prototype属性" class="headerlink" title="prototype属性"></a>prototype属性</h2><p><strong>为对象的类返回原型的引用</strong></p>
<p>用 prototype 属性为对象的类提供一组基本功能。  对象的新的实例“继承”了赋予该对象的原型的行为。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function array_max()&#123;</div><div class="line">    var i, max = this[0];</div><div class="line">    for (i = 1; i &lt; this.length; i++)</div><div class="line">    &#123;</div><div class="line">    if (max &lt; this[i])</div><div class="line">    max = this[i];</div><div class="line">    &#125;</div><div class="line">    return max;</div><div class="line">&#125;</div><div class="line">Array.prototype.max = array_max;</div><div class="line">var myArray = new Array(7, 1, 3, 11, 25, 9</div><div class="line">);</div><div class="line">document.write(myArray.max()</div></pre></td></tr></table></figure>
<p>所有内部 JavaScript 对象都有一个只读的 prototype 属性。可将属性和方法添加到原型中，但不能为对象分配其他原型。<strong>但是，可以向用户定义的对象分配新的原型</strong></p>
<h2 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign();"></a>Object.assign();</h2><p>将来自一个或多个源对象中的值复制到一个目标对象。Object.assign(target, …sources)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var first = &#123; name: &quot;Bob&quot; &#125;;</div><div class="line">var last = &#123; lastName: &quot;Smith&quot; &#125;;</div><div class="line"></div><div class="line">var person = Object.assign(first, last);</div><div class="line">console.log(person);</div><div class="line"></div><div class="line">// Output:</div><div class="line">// &#123; name: &quot;Bob&quot;, lastName: &quot;Smith&quot; &#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var obj = &#123; person: &quot;Bob Smith&quot;&#125;;</div><div class="line">var clone = Object.assign(&#123;&#125;, obj);</div></pre></td></tr></table></figure>
<h2 id="Object-keys-方法"><a href="#Object-keys-方法" class="headerlink" title="Object.keys()方法"></a>Object.keys()方法</h2><p>在实际开发中，我们有时需要知道对象的所有属性，原生js给我们提供了一个很好的方法：<code>Object.keys()</code>，该方法返回一个数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">var obj = &#123;&apos;a&apos;:&apos;123&apos;,&apos;b&apos;:&apos;345&apos;&#125;;</div><div class="line">console.log(Object.keys(obj));  //[&apos;a&apos;,&apos;b&apos;]</div><div class="line"></div><div class="line">var obj1 = &#123; 100: &quot;a&quot;, 2: &quot;b&quot;, 7: &quot;c&quot;&#125;;</div><div class="line">console.log(Object.keys(obj1)); // console: [&quot;2&quot;, &quot;7&quot;, &quot;100&quot;]</div><div class="line"></div><div class="line">var obj2 = Object.create(&#123;&#125;, &#123; getFoo : &#123; value : function () &#123; return this.foo &#125; &#125; &#125;);</div><div class="line">obj2.foo = 1;</div><div class="line">console.log(Object.keys(obj2)); // console: [&quot;foo&quot;]</div><div class="line"></div><div class="line">var obj = &#123;</div><div class="line">    name : &quot;ziksang&quot;,</div><div class="line">&#125;</div><div class="line">//声明一个obj对象</div><div class="line">obj.__proto__.a = 1</div><div class="line">//在obj的原型上加一个a的属性</div><div class="line">console.log(Object.keys(obj))</div><div class="line">&quot;name&quot;/不可以枚举原型上的属性</div></pre></td></tr></table></figure></p>
<h2 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h2><p><strong>将属性添加到对象(添加新属性)，或修改现有属性的特性。返回修改属性后的对象</strong></p>
<p><strong>Object.defineProperty(object, propertyname, descriptor)</strong>，其中object为要在其上添加或修改属性的对象。 这可能是一个本机JavaScript对象（即用户定义的对象或内置对象）或DOM对象。<br>propertyname是一个包含属性名称的字符串。<br>descriptor是属性描述符，它可以针对数据属性或访问器属性。</p>
<h3 id="示例1-添加数据属性"><a href="#示例1-添加数据属性" class="headerlink" title="示例1:添加数据属性"></a>示例1:添加数据属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;&#125;;</div><div class="line">Object.defineProperty(obj,&quot;haha&quot;,&#123;</div><div class="line">	value:1,</div><div class="line">	writable:true,</div><div class="line">	configurable:true,</div><div class="line">	enumerable:true</div><div class="line">&#125;)</div><div class="line">console.log(obj.haha);</div></pre></td></tr></table></figure>
<h3 id="添加访问器属性"><a href="#添加访问器属性" class="headerlink" title="添加访问器属性"></a>添加访问器属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;&#125;;</div><div class="line">Object.defineProperty(obj,&quot;haha&quot;,&#123;</div><div class="line">	set:function(x)&#123;</div><div class="line">		this.hehe = x;</div><div class="line">	&#125;,</div><div class="line">	get:function()&#123;</div><div class="line">		return this.hehe</div><div class="line">	&#125;,</div><div class="line">	configurable:true,</div><div class="line">	enumerable:true</div><div class="line">&#125;)</div><div class="line">obj.haha=30;</div><div class="line">console.log(obj.hehe);</div><div class="line">结果： 30</div></pre></td></tr></table></figure>
<h2 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h2><p>Object.create(prototype, descriptors)<br>创建一个具有指定原型且可选择性地包含指定属性的对象。prototype是要用作原型的对象。可以为null。 descriptors是包含一个或多个属性描述符的JavaScript对象。“数据属性”是可获取且可设置值的属性。数据属性描述符包含 value 特性，以及 writable、enumerable 和 configurable 特性。如果未指定最后三个特性，则它们默认为 false。只要检索或设置该值，“访问器属性”就会调用用户提供的函数。访问器属性描述符包含set特性和/或 get 特性。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var newObj = Object.create(null, &#123;</div><div class="line">            size: &#123;</div><div class="line">                value: &quot;large&quot;,</div><div class="line">                enumerable: true</div><div class="line">            &#125;,</div><div class="line">            shape: &#123;</div><div class="line">                value: &quot;round&quot;,</div><div class="line">                enumerable: true</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">document.write(newObj.size + &quot;&lt;br/&gt;&quot;);</div><div class="line">document.write(newObj.shape + &quot;&lt;br/&gt;&quot;);</div><div class="line">document.write(Object.getPrototypeOf(newObj));</div><div class="line"></div><div class="line">// Output:</div><div class="line">// large</div><div class="line">// round</div><div class="line">// null</div></pre></td></tr></table></figure>
<h2 id="Object-getOwnPropertyDescriptor-object-propertyname"><a href="#Object-getOwnPropertyDescriptor-object-propertyname" class="headerlink" title="Object.getOwnPropertyDescriptor(object, propertyname)"></a>Object.getOwnPropertyDescriptor(object, propertyname)</h2><p>object是指包含属性的对象，propertyname是属性名称。获取指定对象的自身属性描述符。自身属性描述符是指直接在对象上定义（而非从对象的原型继承）的描述符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;&#125;;</div><div class="line">obj.haha=&quot;hello&quot;;</div><div class="line">var discriptor=Object.getOwnPropertyDescriptor(obj,&quot;haha&quot;);</div><div class="line">discriptor.writable = false;</div><div class="line">for(var props in discriptor)&#123;</div><div class="line">	console.log(props+&quot; &quot;+discriptor[props])</div><div class="line">&#125;</div><div class="line"></div><div class="line">输出： value hello</div><div class="line"> 	  writable false</div><div class="line">	  enumerable true</div><div class="line">      configurable true</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/04/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/04/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T15:58:05+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/04/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/04/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/08/04/hello-world/" class="leancloud_visitors" data-flag-title="Hello World">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/28/ReactJs(2)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/28/ReactJs(2)/" itemprop="url">React.js基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-28T00:00:00+08:00">
                2017-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React-js/" itemprop="url" rel="index">
                    <span itemprop="name">React.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/28/ReactJs(2)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/28/ReactJs(2)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/28/ReactJs(2)/" class="leancloud_visitors" data-flag-title="React.js基础">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="虚拟DOM"><a href="#虚拟DOM" class="headerlink" title="虚拟DOM"></a>虚拟DOM</h2><h3 id="diff算法"><a href="#diff算法" class="headerlink" title="diff算法"></a>diff算法</h3><p>diff算法只对同一层级的元素进行对比（按层比较）。为了在树之间进行比较，我们首先要能够比较两个节点，在React中即比较两个虚拟DOM节点，当两个节点不同时，应该如何处理。这分为两种情况：（1）节点类型不同 ，（2）节点类型相同，但是属性不同。</p>
<p>(1)<strong>节点类型不同</strong></p>
<p>当在树中的同一位置前后输出了不同类型的节点，React直接删除前面的节点，然后创建并插入新的节点。假设我们在树的同一位置前后两次输出不同类型的节点，当一个节点从div变成span时，简单的直接删除div节点，并插入一个新的span节点。这符合我们对真实DOM操作的理解。</p>
<p>需要注意的是，删除节点意味着彻底销毁该节点，而不是再后续的比较中再去看是否有另外一个节点等同于该删除的节点。如果该删除的节点之下有子节点，那么这些子节点也会被完全删除，它们也不会用于后面的比较。这也是算法复杂能够降低到O(n)的原因</p>
<p>上面提到的是对虚拟DOM节点的操作，而同样的逻辑也被用在React组件的比较。</p>
<p>当React在同一个位置遇到不同的组件时，也是简单的销毁第一个组件，而把新创建的组件加上去。这正是应用了第一个假设，不同的组件一般会产生不一样的DOM结构，与其浪费时间去比较它们基本上不会等价的DOM结构，还不如完全创建一个新的组件加上去</p>
<p>(2)<strong>相同类型节点的比较</strong></p>
<p>React会对属性进行重设从而实现节点的转换</p>
<p>(3)<strong>列表节点提供唯一的key属性可以帮助React定位到正确的节点进行比较，从而大幅减少DOM操作次数，提高了性能</strong>。</p>
<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>JSX中使用<strong>引号</strong>来定义<strong>以字符串为值的属性</strong>，使用<strong>大括号</strong>来定<strong>义以 JavaScript 表达式为值的属性</strong></p>
<p>React DOM 在渲染之前默认会<strong>过滤</strong>所有传入的值。它可以确保你的应用不会被注入攻击。<strong>所有的内容在渲染之前都被转换成了字符串</strong>。这样可以有效地防止 XSS(跨站脚本) 攻击。</p>
<h3 id="深入JSX"><a href="#深入JSX" class="headerlink" title="深入JSX"></a>深入JSX</h3><p>本质上来讲，JSX 只是为 React.createElement(component, props, …children) 方法提供的语法糖。</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p><strong>使用 JavaScript 表达式</strong></p>
<p>if 语句和 for 循环在 JavaScript 中<strong>不是表达式</strong>，因此它们不能直接在 JSX 中使用，所以你可以将它们放在周围的代码中（return之前使用）。</p>
<p><strong>字符串常量</strong></p>
<p><strong>默认为 True</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;MyTextBox autocomplete /&gt;</div><div class="line">等价于</div><div class="line">&lt;MyTextBox autocomplete=&#123;true&#125; /&gt;</div></pre></td></tr></table></figure>
<p>一般情况下，我们不建议这样使用，因为它会与 ES6 对象简洁表示法 混淆。比如 {foo} 是 {foo: foo} 的简写，而不是 {foo: true}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;MyButton color=&quot;blue&quot; shadowSize=&#123;2&#125;&gt;</div><div class="line">  Click Me</div><div class="line">&lt;/MyButton&gt;</div></pre></td></tr></table></figure>
<p>编译为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">React.createElement(</div><div class="line">  MyButton,</div><div class="line">  &#123;color: &apos;blue&apos;, shadowSize: 2&#125;,</div><div class="line">  &apos;Click Me&apos;</div><div class="line">)</div></pre></td></tr></table></figure>
<h4 id="子代"><a href="#子代" class="headerlink" title="子代"></a>子代</h4><p>在包含开始和结束标签的 JSX 表达式中，标记之间的内容作为特殊的参数传递：<code>props.children</code>有几种不同的方法来传递子代:</p>
<p>(1)字符串常量:可以在开始和结束标签之间放入一个字符串，则 props.children 就是那个字符串。这对于许多内置<code>HTML</code>元素很有用</p>
<p>(2)嵌套显示组件</p>
<p>(3)JavsScript表达式:将任何 {} 包裹的 JavaScript 表达式作为子代传递</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;MyComponent&gt;foo&lt;/MyComponent&gt;</div><div class="line"></div><div class="line">&lt;MyComponent&gt;&#123;&apos;foo&apos;&#125;&lt;/MyComponent&gt;</div></pre></td></tr></table></figure>
<p>两者是等价的。</p>
<p>（4）布尔值、Null 和 Undefined 被忽略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;div /&gt;</div><div class="line"></div><div class="line">&lt;div&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;div&gt;&#123;false&#125;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;div&gt;&#123;null&#125;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;div&gt;&#123;undefined&#125;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;div&gt;&#123;true&#125;&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>是等价的。</p>
<p><strong>值得注意的是：React 提供了一些 “falsy” 值 （即， 除了false 外，0，“”，null，undefined 和 NaN），它们依然会被渲染</strong></p>
<h2 id="元素渲染"><a href="#元素渲染" class="headerlink" title="元素渲染"></a>元素渲染</h2><p>元素是构成 React 应用的最小单位。</p>
<p>元素用来描述你在屏幕上看到的内容：<code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;</code>与浏览器的 DOM 元素不同，React 当中的元素事实上是普通的对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">function tick() &#123;</div><div class="line">  const element = (</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;h1&gt;Hello, world!&lt;/h1&gt;</div><div class="line">      &lt;h2&gt;It is &#123;new Date().toLocaleTimeString()&#125;.&lt;/h2&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  );</div><div class="line">  ReactDOM.render(</div><div class="line">    element,</div><div class="line">    document.getElementById(&apos;root&apos;)</div><div class="line">  );</div><div class="line">&#125;</div><div class="line"></div><div class="line">setInterval(tick, 1000);</div></pre></td></tr></table></figure>
<p>每秒渲染一次界面，React DOM 首先会比较元素内容先后的不同，而在渲染过程中只会更新改变了的部分</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/10/笔试面试(7)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/10/笔试面试(7)/" itemprop="url">笔试面试题（7）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-10T00:00:00+08:00">
                2017-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/10/笔试面试(7)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/10/笔试面试(7)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/10/笔试面试(7)/" class="leancloud_visitors" data-flag-title="笔试面试题（7）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="手写一个递归函数（考察arguments-callee，以及arguments的解释）"><a href="#手写一个递归函数（考察arguments-callee，以及arguments的解释）" class="headerlink" title="手写一个递归函数（考察arguments.callee，以及arguments的解释）"></a>手写一个递归函数（考察arguments.callee，以及arguments的解释）</h2><p>arguments.callee表示当前的函数,传入的参数从arguments[0]开始以此类推<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line">function create()&#123;</div><div class="line">	return function(n)&#123;</div><div class="line">		if(n&lt;=1)&#123;</div><div class="line">			return 1;</div><div class="line">		&#125;else</div><div class="line">		return n*arguments.callee(n-1)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">console.log(create()(4))</div><div class="line">结果： 24</div><div class="line">```        </div><div class="line">callee属性的初始值就是正在被执行的function对象。callee属性是arguments 对象的一个成员，它表示对函数对象本身的引用，这有利于匿名函数的递归或确保函数的封装性，需要注意的是callee拥有length属性，arguments.length是实参长度，arguments.callee.length是形参长度，由此能够判断调用时形参长度是否和实参长度一致</div><div class="line"></div><div class="line">## web缓存</div><div class="line"></div><div class="line">判断一个网站的性能最直观的就是看网页打开的速度。其中提高网页反应速度的一个方式就是使用缓存。一个优秀的缓存策略可以缩短网页请求资源的距离，减少延迟，并且由于缓存文件可以重复利用，还可以减少带宽，降低网络负荷</div><div class="line"></div><div class="line">### Web缓存的类型</div><div class="line"></div><div class="line">**1.数据库数据缓存**</div><div class="line"></div><div class="line">Web应用，特别是SNS类型的应用，往往关系比较复杂，数据库表繁多，如果频繁进行数据库查询，很容易导致数据库不堪重荷。为了提供查询的性能，会将查询后的数据放到内存中进行缓存，下次查询时，直接从内存缓存直接返回，提供响应效率。比如常用的缓存方案有memcached等。  </div><div class="line">服务器端缓存。</div><div class="line"></div><div class="line">**2.代理服务器缓存**</div><div class="line"></div><div class="line">代理服务器是浏览器和源服务器之间的中间服务器，浏览器先向这个中间服务器发起Web请求，经过处理后（比如权限验证，缓存匹配等），再将请求转发到源服务器。代理服务器缓存的运作原理跟浏览器的运作原理差不多，只是规模更大。可以把它理解为一个共享缓存，不只为一个用户服务，一般为大量用户提供服务，因此在减少相应时间和带宽使用方面很有效，同一个副本会被重用多次。常见代理服务器缓存解决方案有Squid等，这里不再详述。</div><div class="line"></div><div class="line">**3.CDN缓存**</div><div class="line"></div><div class="line">CDN（Content delivery networks）缓存，也叫网关缓存、反向代理缓存。CDN缓存一般是由网站管理员自己部署，为了让他们的网站更容易扩展并获得更好的性能。浏览器先向CDN网关发起Web请求，网关服务器后面对应着一台或多台负载均衡源服务器，会根据它们的负载请求，动态将请求转发到合适的源服务器上。虽然这种架构负载均衡源服务器之间的缓存没法共享，但却拥有更好的处扩展性。从浏览器角度来看，整个CDN就是一个源服务器，从这个层面来说，本文讨论浏览器和服务器之间的缓存机制，在这种架构下同样适用。</div><div class="line"> </div><div class="line">**4.浏览器端缓存**</div><div class="line"></div><div class="line">浏览器缓存根据一套与服务器约定的规则进行工作，在同一个会话过程中会检查一次并确定缓存的副本足够新。如果你浏览过程中，比如前进或后退，访问到同一个图片，这些图片可以从浏览器缓存中调出而即时显现。</div><div class="line"> </div><div class="line">**5.Web应用层缓存**</div><div class="line"></div><div class="line">应用层缓存指的是从代码层面上，通过代码逻辑和缓存策略，实现对数据，页面，图片等资源的缓存，可以根据实际情况选择将数据存在文件系统或者内存中，减少数据库查询或者读写瓶颈，提高响应效率。</div><div class="line"></div><div class="line">### 浏览器缓存</div><div class="line"></div><div class="line">页面的缓存状态是由header决定的，header的参数有四种：</div><div class="line"></div><div class="line">（1）cache-control 和 max-age</div><div class="line"></div><div class="line">cache-control 大概是最广为人知的控制缓存的 Headers 了，这也是最简单的缓存控制策略，即浏览器通过最大生存时间来判断资源的缓存是否有效。</div><div class="line"></div><div class="line">如图所见，来自服务器端的`response headers`的`Headers`中有`cache-control: max-age=3600`，这就是告诉浏览器这个资源的生存时间，在这个时间以内，浏览器不需要向服务器端再做任何确认，直接使用即可</div><div class="line"></div><div class="line">（2）Expires</div><div class="line">  </div><div class="line">缓存过期时间，用来指定资源到期的时间，是服务器端的具体的时间点。也就是说，`Expires=max-age + 请求时间`，需要和Last-modified结合使用。Expires是Web服务器响应消息头字段，在响应http请求时告诉浏览器在过期时间前浏览器可以直接从浏览器缓存取数据，而无需再次请求。</div><div class="line"></div><div class="line">（3）Last-modified </div><div class="line">    </div><div class="line">服务器端文件的最后修改时间，需要和`cache-control`共同使用，是检查服务器端资源是否更新的一种方式。当浏览器再次进行请求时，会向服务器传送`If-Modified-Since`报头，询问`Last-Modified`时间点之后资源是否被修改过。如果没有修改，则返回码为304，使用缓存；如果修改过，则再次去服务器请求资源，返回码和首次请求相同为200，资源为服务器最新资源。</div><div class="line"></div><div class="line">(4)If-None-Match/ETag</div><div class="line"></div><div class="line">**采用的是`ETag`来判断缓存是否有效**，服务器端会在`response headers`中返回 ETag（文件的 hash），而当资源改变时`ETag`也会发生改变。浏览器在发起请求时在`If-None-Match`字段携带缓存的`ETag`，服务器接到请求后如果一致（即资源没有修改），则返回`304 Not Modified`，否则返回新的资源（200）</div><div class="line"></div><div class="line">**H5时代的缓存**</div><div class="line">本地存储localstorage的作用主要使Web页面能够通过浏览器提供的set/get接口，存储一些自定义的信息到本地硬盘，并且在单次访问或以后的访问过程中随时获取或修改。LocalStorage是一种本地存储的公共资源，域名下很多应用共享这份资源会有风险；LocalStorage是以页面域名划分的，如果有多个等价域名之间的LocalStorage不互通，则会造成缓存多份浪费</div><div class="line"></div><div class="line">## cookie工作原理</div><div class="line"></div><div class="line">当网页要发http请求时，浏览器会先检查是否有相应的cookie，有则自动添加在request header中的cookie字段中。这些是浏览器自动帮我们做的，而且每一次http请求浏览器都会自动帮我们做。这个特点很重要，因为这关系到“什么样的数据适合存储在cookie中”。</div><div class="line"></div><div class="line">存储在cookie中的数据，每次都会被浏览器自动放在http请求中，如果这些数据并不是每个请求都需要发给服务端的数据，浏览器这设置自动处理无疑增加了网络开销；但如果这些数据是每个请求都需要发给服务端的数据（比如身份认证信息），浏览器这设置自动处理就大大免去了重复添加操作。所以对于那设置“每次请求都要携带的信息（最典型的就是身份认证信息）”就特别适合放在cookie中，其他类型的数据就不适合了。</div><div class="line"></div><div class="line">但在 localStorage 出现之前，cookie被滥用当做了存储工具。什么数据都放在cookie中，即使这些数据只在页面中使用而不需要随请求传送到服务端。当然cookie标准还是做了一些限制的：每个域名下的cookie 的大小最大为4KB，每个域名下的cookie数量最多为20个。每个cookie除了name名称和value值这两个属性以外，还有四个属性。这些属性是： expires过期时间、 path路径、 domain域、以及 secure安全。</div><div class="line"></div><div class="line">### 跨域请求中 cookie</div><div class="line">例如让位于a.sodao.com的服务器能够读取b.sodao.com设置的cookie值。</div><div class="line"></div><div class="line">方法如下：b.sodao.com的页面创建的cookie把它的path属性设置为&quot;/&quot;，把domain属性设置成**&quot;.sodao.com&quot;**，那么所有位于b.sodao.com的网页和所有位于a.sodao.com的网页，以及位于sodao.com域的其他服务器上的网页都可以访问这个cookie。</div><div class="line"></div><div class="line">## jsonp跨域实现</div></pre></td></tr></table></figure></p>
<p><script type="text/javascript"><br>    //添加<script>标签的方法<br>    function addScriptTag(url){<br>        var script = document.createElement(‘script’);<br>        script.setAttribute(“type”,”text/javascript”);<br>        script.src = url;<br>        document.body.appendChild(script);<br>    }</p>
<pre><code>//自定义的回调函数result
function result(data) {
    //我们就简单的获取apple搜索结果的第一条记录中url数据
    alert(data.responseData.results[0].unescapedUrl);
}

//进行jsonp调用

addScriptTag(&quot;http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=apple&amp;callback=result&quot;);

}
</code></pre><p></script><br>```<br>这是Google的ajax搜索接口：<a href="http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=?&amp;callback=?" target="_blank" rel="external">http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=?&amp;callback=?</a> </p>
<p>其中，q=?这个问号是表示你要搜索的内容，<strong>最重要的是第二个callback=?这个是正如其名表示回调函数的名称，也就是将你自己在客户端定义的回调函数的函数名传送给服务端，服务端则会返回以你定义的回调函数名的方法，将获取的json数据传入这个方法完成回调</strong>。</p>
<h2 id="WebP"><a href="#WebP" class="headerlink" title="WebP"></a>WebP</h2><p>WebP 的优势体现在它具有更优<strong>的图像数据压缩算法，能带来更小的图片体积，而且拥有肉眼识别无差异的图像质量；同时具备了无损和有损的压缩模式</strong>、Alpha 透明以及动画的特性，在 JPEG 和 PNG 上的转化效果都非常优秀、稳定和统一。</p>
<p>##　Ajax如何处理多个异步任务</p>
<h2 id="react-echarts"><a href="#react-echarts" class="headerlink" title="react-echarts"></a>react-echarts</h2><p>兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底<strong>层依赖轻量级的Canvas类库ZRender</strong>，提供直观，生动，可交互，可高度个性化定制的数据可视化图表。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/07/笔试面试(5)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/07/笔试面试(5)/" itemprop="url">笔试面试题（5）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-07T00:00:00+08:00">
                2017-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/07/笔试面试(5)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/07/笔试面试(5)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/07/笔试面试(5)/" class="leancloud_visitors" data-flag-title="笔试面试题（5）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h2><h3 id="基本概念："><a href="#基本概念：" class="headerlink" title="基本概念："></a>基本概念：</h3><p>采用 Flex 布局的元素，称为 <strong>Flex 容器</strong>（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），<strong>简称”项目”</strong>。</p>
<p>容器默认存在两根轴：水平的主轴<code>（main axis）</code>和垂直的交叉轴<code>（cross axis）</code>。主轴的开始位置（与边框的交叉点）叫做<code>main start</code>，结束位置叫做<code>main end</code>；交叉轴的开始位置叫做<code>cross start</code>，结束位置叫做<code>cross end</code>。<br>项目默认沿主轴排列。单个项目占据的主轴空间叫做<code>main size</code>，占据的交叉轴空间叫做<code>cross size</code>。</p>
<p><em>注意，设为 Flex 布局以后，子元素的float、clear和vertical-align属性将失效。</em></p>
<h3 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h3><p>flex-direction属性决定主轴的方向（即项目的排列方向）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">.box &#123;</div><div class="line">  flex-direction: row | row-reverse | column | column-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>flex-wrap默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box&#123;</div><div class="line">  flex-wrap: nowrap(不换行) | wrap(换行在第一行下方) | wrap-reverse(换行在第一行上方);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>flex-flow</p>
<p>justify-content属性定义了项目在主轴上的对齐方式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box &#123;</div><div class="line">  justify-content: flex-start(主轴起点) | flex-end | center | space-between(两端对齐，项目之间的间隔都相等) | space-around(每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>align-items属性定义项目在交叉轴上如何对齐。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box &#123;</div><div class="line">  align-items: flex-start（交叉轴起点） | flex-end | center | baseline | stretch(如果项目未设置高度或设为auto，将占满整个容器的高度);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box &#123;</div><div class="line">  align-content: flex-start（与交叉轴起点对齐）| flex-end | center | space-between | space-around | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="项目的属性"><a href="#项目的属性" class="headerlink" title="项目的属性"></a>项目的属性</h3><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.item &#123;</div><div class="line">  order: &lt;integer&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。数字越大所占比例越大。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.item &#123;</div><div class="line">  flex-grow: &lt;number&gt;; /* default 0 */</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.item &#123;</div><div class="line">  flex-shrink: &lt;number&gt;; /* default 1 */</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>flex-basis</p>
<p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，<strong>默认值为0 1 auto</strong>。后两个属性可选。建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值</p>
<p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.item &#123;</div><div class="line">  align-self: auto | flex-start | flex-end | center | baseline | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="示例1-单项目"><a href="#示例1-单项目" class="headerlink" title="示例1 单项目"></a>示例1 单项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line"></div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		.box&#123;</div><div class="line">			width:500px;</div><div class="line">			height:500px;</div><div class="line">			border:1px solid blue;</div><div class="line">			display:flex;</div><div class="line">			justify-content: flex-end;/*center 居中。定义项目在主轴上的对齐方式*/</div><div class="line">			align-items:flex-end; /*定义在交叉轴上的位置*/</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;div class=&quot;box&quot;&gt;</div><div class="line">			&lt;span class=&quot;item&quot;&gt;haha&lt;/span&gt;</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="示例2-多项目"><a href="#示例2-多项目" class="headerlink" title="示例2 多项目"></a>示例2 多项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line"></div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		.box&#123;</div><div class="line">			width:500px;</div><div class="line">			height:500px;</div><div class="line">			border:1px solid blue;</div><div class="line">			display:flex;</div><div class="line">			flex-wrap: wrap;</div><div class="line">			align-content: space-between;</div><div class="line">		&#125;</div><div class="line">		.column&#123;</div><div class="line">			display: flex;</div><div class="line">			flex-basis:100%;</div><div class="line">			justify-content: space-between;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;div class=&quot;box&quot;&gt;</div><div class="line">			&lt;div class=&quot;column&quot;&gt;</div><div class="line">				&lt;span class=&quot;item&quot;&gt;haha&lt;/span&gt;</div><div class="line">				&lt;span class=&quot;item&quot;&gt;hehe&lt;/span&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">			&lt;div class=&quot;column&quot;&gt;</div><div class="line">				&lt;span class=&quot;item&quot;&gt;hihi&lt;/span&gt;</div><div class="line">				&lt;span class=&quot;item&quot;&gt;lala&lt;/span&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="示例3-网格布局"><a href="#示例3-网格布局" class="headerlink" title="示例3 网格布局"></a>示例3 网格布局</h3><p><strong>flex 实现圣杯三栏分布</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		body &#123;</div><div class="line">		  display: flex;</div><div class="line">		  min-height: 100vh;</div><div class="line">		  flex-direction: column;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		header&#123;</div><div class="line">			border:1px solid red;</div><div class="line">		&#125;</div><div class="line">		footer &#123;</div><div class="line">			border:1px solid green;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-body &#123;</div><div class="line">		  display: flex;</div><div class="line">		  flex: 1;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-content &#123;</div><div class="line">		  flex: 0 0 33.33%;</div><div class="line">		  border:1px solid blue;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-nav, .HolyGrail-ads &#123;</div><div class="line">		  flex: 0 0 33.33%;</div><div class="line">		  border:1px solid blue;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">	  &lt;header&gt;这里是标题栏&lt;/header&gt;</div><div class="line">	  &lt;div class=&quot;HolyGrail-body&quot;&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-content&quot;&gt;...&lt;/div&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-nav&quot;&gt;导航栏&lt;/div&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-ads&quot;&gt;...&lt;/div&gt;</div><div class="line">	  &lt;/div&gt;</div><div class="line">	  &lt;footer&gt;这里是角标&lt;/footer&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="流式布局"><a href="#流式布局" class="headerlink" title="流式布局"></a>流式布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		body &#123;</div><div class="line">		  display: flex;</div><div class="line">		  min-height: 100vh;</div><div class="line">		  flex-direction: column;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		header&#123;</div><div class="line">			border:1px solid red;</div><div class="line">		&#125;</div><div class="line">		footer &#123;</div><div class="line">			border:1px solid green;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-body &#123;</div><div class="line">		  display: flex;</div><div class="line">		  flex-wrap:wrap; </div><div class="line">		  flex: 1;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-content &#123;</div><div class="line">		  box-sizing: border-box;</div><div class="line">		  flex: 0 0 33.33%;</div><div class="line">		  border:1px solid blue;</div><div class="line">		  height:200px;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		.HolyGrail-nav, .HolyGrail-ads &#123;</div><div class="line">		  /* 两个边栏的宽度设为12em */</div><div class="line">		  box-sizing: border-box;</div><div class="line">		  flex: 0 0 33.33%;</div><div class="line">		  border:1px solid blue;</div><div class="line">		  height:200px;</div><div class="line">		&#125;</div><div class="line">		.HolyGrail-last&#123;</div><div class="line">			border:1px solid green;</div><div class="line">			flex:0 0 30%;</div><div class="line">			height:200px;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">	  &lt;header&gt;这里是标题栏&lt;/header&gt;</div><div class="line">	  &lt;div class=&quot;HolyGrail-body&quot;&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-content&quot;&gt;...&lt;/div&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-nav&quot;&gt;导航栏&lt;/div&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-ads&quot;&gt;...&lt;/div&gt;</div><div class="line">	    &lt;div class=&quot;HolyGrail-last&quot;&gt;...&lt;/div&gt;</div><div class="line">	   &lt;/div&gt;</div><div class="line">	  &lt;footer&gt;这里是角标&lt;/footer&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h3><p><em>在不知道容器大小时可以使用1和2</em><br><strong>方法1</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.parent&#123;</div><div class="line">	display:flex;</div><div class="line">	justify-content:center;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>方法2</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		.parent&#123;</div><div class="line">			position:relative;</div><div class="line">			width:400px;</div><div class="line">			height:400px;</div><div class="line">			border:1px solid red;</div><div class="line">		&#125;</div><div class="line">		.child&#123;</div><div class="line">			position: absolute;</div><div class="line">			top:200px;</div><div class="line">			left:200px;</div><div class="line">			transform: translate(-50%,-50%);</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;div class=&quot;parent&quot;&gt;</div><div class="line">		&lt;div class=&quot;child&quot;&gt;hahjkldsj;flaha&lt;/div&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/05/笔试面试(6)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/05/笔试面试(6)/" itemprop="url">笔试面试题（6）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-05T00:00:00+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/05/笔试面试(6)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/05/笔试面试(6)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/05/笔试面试(6)/" class="leancloud_visitors" data-flag-title="笔试面试题（6）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="伪类和伪元素"><a href="#伪类和伪元素" class="headerlink" title="伪类和伪元素"></a>伪类和伪元素</h2><p><strong>w3c中的定义：</strong><br>CSS中伪类用于向某些选择器添加特殊的效果。<br>CSS中伪元素用于将特殊的效果添加到某些选择器。</p>
<p>伪类种类有：<br>:active : 将样式添加到被激活的元素<br>:focus :将样式添加到被选中的元素<br>:hover：将样式添加到鼠标浮动的元素上<br>:link：将样式添加到未被访问过的链接<br>:visited,<br>:first-child,<br>:lang;</p>
<p>伪元素种类：<br>：before : 在某元素之前插入某些内容<br>：after  : 在某元素之后插入某些内容</p>
<h2 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h2><p>样式的优先级：内联样式(在元素中间的style)&gt;内部样式<code>(&lt;style&gt;&lt;/style&gt;)</code>&gt;外部样式（link标签引入）</p>
<p><strong>选择器的优先级：</strong></p>
<p>内联样式的优先级&gt;ID选择器&gt;伪类选择器(:visited,:acitive)&gt;属性选择器&gt;类选择器&gt;类型选择器&gt;通用选择器（*）</p>
<p><strong>注意：当 !important 规则被应用在一个样式声明中时,该样式声明会覆盖CSS中任何其他的声明, 无论它处在声明列表中的哪里</strong></p>
<h2 id="盒子模型和box-sizing"><a href="#盒子模型和box-sizing" class="headerlink" title="盒子模型和box-sizing"></a>盒子模型和box-sizing</h2><p>盒子模型：<code>content+padding+border+margin</code></p>
<p>box-sizing属性有两个值：content-box和border-box;当属性值为content-box时，维持其原有盒子模型的结构。</p>
<p>当属性值为border-box时，其设置的宽度为content_width+padding+border。可以通过告诉浏览器该元素中的padding和border来确定content的宽，高。</p>
<p>具体示例为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.element&#123;</div><div class="line">	box-sizing:border-box;</div><div class="line">	width:200px;</div><div class="line">	padding:10px</div><div class="line">	border:5px</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>则此时content-width为170px,而不是盒子模型的230px。</p>
<p>响应式布局：理论上，响应式界面能够适应不同的设备。简而言之，就是一个网站能够兼容多个终端——而不是为每个终端做一个特定的版本。 这个概念是为解决移动互联网浏览而诞生的。</p>
<p>描述响应式界面最著名的一句话就是“Content is like water”，翻译成中文便是“如果将屏幕看作容器，那么内容就像水一样”。</p>
<h2 id="性能优化的方法"><a href="#性能优化的方法" class="headerlink" title="性能优化的方法"></a>性能优化的方法</h2><p>（1） 减少http请求次数</p>
<p>（2） 图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳</p>
<p>（3） 少用全局变量、缓存DOM节点查找的结果。减少IO读取操作</p>
<p>（4） 当需要设置的样式很多时设置className而不是直接操作style</p>
<h2 id="常见会造成内存泄漏的操作"><a href="#常见会造成内存泄漏的操作" class="headerlink" title="常见会造成内存泄漏的操作"></a>常见会造成内存泄漏的操作</h2><p>内存泄漏指任何对象在不再拥有或需要它之后仍然存在。垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收。</p>
<p>（1）setTimeout 的第一个参数使用字符串而非函数的话，会引发内存泄漏。</p>
<p>（2）闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）</p>
<h2 id="不用框架实现三级菜单"><a href="#不用框架实现三级菜单" class="headerlink" title="不用框架实现三级菜单"></a>不用框架实现三级菜单</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">  &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">   *&#123;</div><div class="line">      margin:0;</div><div class="line">      padding:0;</div><div class="line">    &#125;</div><div class="line">    li&#123;</div><div class="line">      width:100px;</div><div class="line">      height:30px;</div><div class="line">      border:1px solid red;</div><div class="line">      list-style:none;</div><div class="line">     &#125;</div><div class="line"></div><div class="line"> //利用相对定位和绝对定位解决位置之间的影响</div><div class="line">  li&#123;</div><div class="line">    position:relative;</div><div class="line">  &#125;</div><div class="line">  li a&#123;</div><div class="line">    display: block;</div><div class="line">    text-decoration: none;</div><div class="line">    height:30px;</div><div class="line">    line-height: 30px;</div><div class="line">    width:100px;</div><div class="line">    text-align:center;</div><div class="line">  &#125;</div><div class="line">  .level1&#123;</div><div class="line">    position:absolute;</div><div class="line">    top:0;</div><div class="line">    left:100px;</div><div class="line">  &#125;</div><div class="line">  .level2&#123;</div><div class="line">    position: absolute;</div><div class="line">    top:0;</div><div class="line">    left:100px;</div><div class="line">  &#125;</div><div class="line"></div><div class="line"></div><div class="line">  .level1&#123;</div><div class="line">    display: none;</div><div class="line">  &#125;</div><div class="line">  .leveel2&#123;</div><div class="line">    display: none;</div><div class="line">  &#125;</div><div class="line">  #nav&gt;li:hover&gt;ul&#123;</div><div class="line">    display: block;</div><div class="line">  &#125;</div><div class="line">  //1.父子元素之间的嵌套</div><div class="line">  //利用伪类元素实现隐藏和显示</div><div class="line">  #nav&gt;li:hover&gt;ul&gt;li&gt;ul&#123;</div><div class="line">    display: none;</div><div class="line">  &#125;</div><div class="line">  #nav&gt;li&gt;ul&gt;li:hover&gt;ul&#123;</div><div class="line">    display: block;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;ul id=&quot;nav&quot;&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;首页面&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;</div><div class="line">        &lt;a href=&quot;#&quot;&gt;关于我们&lt;/a&gt;</div><div class="line">          &lt;ul class=&quot;level1&quot;&gt;</div><div class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;我们的故事&lt;/a&gt;</div><div class="line">                &lt;ul class=&quot;level2&quot;&gt;</div><div class="line">                  &lt;li&gt;&lt;a href=&quot;#&quot;&gt;故事1&lt;/a&gt;&lt;/li&gt;</div><div class="line">                  &lt;li&gt;&lt;a href=&quot;#&quot;&gt;故事2&lt;/a&gt;&lt;/li&gt;</div><div class="line">                  &lt;li&gt;&lt;a href=&quot;#&quot;&gt;故事3&lt;/a&gt;&lt;/li&gt;</div><div class="line">                &lt;/ul&gt;</div><div class="line">            &lt;/li&gt;</div><div class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;我们的团队&lt;/a&gt;&lt;/li&gt;</div><div class="line">          &lt;/ul&gt;</div><div class="line">      &lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;服务&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;  </div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="一个table，点击按钮，实现某一列的刷新"><a href="#一个table，点击按钮，实现某一列的刷新" class="headerlink" title="一个table，点击按钮，实现某一列的刷新"></a>一个table，点击按钮，实现某一列的刷新</h2><p>1、获取表格的dom节点</p>
<p>2、通过rows和cells定位td单元格</p>
<p>3、通过修改innerHTML<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">&lt;table id=&apos;test&apos;&gt;  //定义一个table</div><div class="line">&lt;tr&gt;</div><div class="line">  &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div><div class="line">&lt;script&gt;</div><div class="line"> var tb = document.getElementById(&apos;test&apos;);//获取表格的dom节点</div><div class="line"> var td = tb.rows[0].cells[0];//获取0行0列的td单元格</div><div class="line"> td.innerHTML = &apos;222&apos;;//动态修改表格的内容为222</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<p>循环遍历tr以及td，找到你要修改的td，然后修改它的内容<br>给个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for(var i=0;i&lt;table.rows.length;i++)</div><div class="line">for(var j=0;j&lt;rows.cells.length;i++)</div><div class="line">table.rows[i].cells[j].innerHTML=&quot;新的内容&quot;;</div></pre></td></tr></table></figure></p>
<h2 id="事件的绑定和移除"><a href="#事件的绑定和移除" class="headerlink" title="事件的绑定和移除"></a>事件的绑定和移除</h2><p>对于事件的绑定的方法有多种多样，但是在解除绑定事件的时候，就要注意使用的是那种绑定事件的方法，因为不同的绑定方法所对应的解除事件是不同的。</p>
<h3 id="方式1："><a href="#方式1：" class="headerlink" title="方式1："></a>方式1：</h3><p><strong>绑定事件：对象.事件=事件处理函数。解除事件： 对象.事件=null (此方法就是函数的覆盖)</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var btn1= document.getElementById(&quot;btn1&quot;);</div><div class="line">	var btn2 = document.getElementById(&quot;btn2&quot;);</div><div class="line">	btn1.onclick = function()&#123;</div><div class="line">	alert(&quot;btn1事件绑定成功！&quot;);</div><div class="line">	&#125;</div><div class="line">	btn2.onclick = function()&#123;</div><div class="line">	btn1.onclick = null;</div><div class="line">	alert(&quot;btn1所绑定的事件已经被移除！&quot;);</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h3 id="方式2："><a href="#方式2：" class="headerlink" title="方式2："></a>方式2：</h3><p><strong>使用 attachEvent 、detachEvent、addEventListener 与 removeEventListener</strong></p>
<p><strong>事件绑定——attachEvent ，addEventListener </strong></p>
<p>使用 attachEvent 和 addEventListenter 的好处就是，<em>可以多次的进行事件的绑定，不向原始的方法那样，前面绑定的事件将会被后面的绑定的事件所覆盖，最后只能执行后面所绑定的函数。</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var btn1= document.getElementById(&quot;btn1&quot;);</div><div class="line">	var btn2= document.getElementById(&quot;btn2&quot;);</div><div class="line">	btn1.addEventListener(&quot;click&quot;,function()&#123;</div><div class="line">		console.log(1);</div><div class="line">	&#125;)</div><div class="line">	btn1.addEventListener(&quot;click&quot;,function()&#123;</div><div class="line">		console.log(2);</div><div class="line">	&#125;)</div><div class="line">结果为：1,2</div></pre></td></tr></table></figure>
<p>说明：<br>1) addEventListener 是先绑定先执行，它将按顺序执行我绑定的事件，不会覆盖前面的事件。本质原因是监听事件每次都会生产一个全新的匿名函数，和前面的函数完全不同，自然不会覆盖</p>
<p>2) addEventListener 的第三个参数：<em>布尔值参数是true，表示在捕获阶段调用事件处理程序；如果是false，表示在冒泡阶段调用事件处理程序</em></p>
<p>3）attachEvent 只能兼容 IE7，IE8；绑定的事件前面要加“on”</p>
<p><strong>事件移除用removeEventListener</strong></p>
<p>(1)在removeEventListener 传入的参数与 addEventListener 传入的参数要一致，看似使用了相同的参数，但实际上，第二个参数与传入addEventListener()中的与第一个是完全不同的函数。</p>
<p>(2)因为移除时传入的参数与添加处理程序时使用的参数相同。这也意味着通过addEventListener()添加的匿名函数无法移除。</p>
<p>(3)在公用函数体存在参数的情况下，<strong>不能将带参数的函数体</strong>传给 addEventListener 和 romoveEventListener。</p>
<p>正确示例为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var fun = function(e)&#123;</div><div class="line">        e.preventDefault();//阻止事件目标的默认动作</div><div class="line">        alert(1);</div><div class="line">    &#125;</div><div class="line">    var btn1= document.getElementById(&quot;btn1&quot;);</div><div class="line">    btn1.addEventListener(&apos;click&apos;,fun,false);//事件冒泡阶段</div><div class="line">    btn1.removeEventListener(&apos;click&apos;,fun,false);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h2 id="事件冒泡和事件捕获"><a href="#事件冒泡和事件捕获" class="headerlink" title="事件冒泡和事件捕获"></a>事件冒泡和事件捕获</h2><h3 id="冒泡捕获过程"><a href="#冒泡捕获过程" class="headerlink" title="冒泡捕获过程"></a>冒泡捕获过程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	</div><div class="line">&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;div id=&quot;outA&quot; style=&quot;width:400px; height:400px; background:#ff0000;position:relative;&quot;&gt;</div><div class="line">		 &lt;div id=&quot;outB&quot; style=&quot;height:200; background:#0000ff;top:100px;position:relative;&quot;&gt;</div><div class="line">		  &lt;div id=&quot;outC&quot; style=&quot;height:100px; background:#00ff00;top:50px;position:relative;&quot;&gt;</div><div class="line">		  &lt;/div&gt; </div><div class="line">		 &lt;/div&gt;</div><div class="line">		&lt;/div&gt;</div><div class="line">		&lt;script&gt;</div><div class="line">			 var outA = document.getElementById(&quot;outA&quot;); </div><div class="line">			 var outB = document.getElementById(&quot;outB&quot;); </div><div class="line">			 var outC = document.getElementById(&quot;outC&quot;); </div><div class="line">			 // 使用事件捕获</div><div class="line">			 outA.addEventListener(&apos;click&apos;,function()&#123;console.log(1);&#125;,true);</div><div class="line">			 outB.addEventListener(&apos;click&apos;,function()&#123;console.log(2);&#125;,true);</div><div class="line">			 outC.addEventListener(&apos;click&apos;,function()&#123;console.log(3);&#125;,true);</div><div class="line">		&lt;/script&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>addEventListener第三个参数为true侦听事件为捕获阶段，当点击outc时输出为123，为false时，侦听事件以冒泡进行。点击outc输出为321。</p>
<h3 id="Dom事件流"><a href="#Dom事件流" class="headerlink" title="Dom事件流"></a>Dom事件流</h3><p>DOM事件流：将事件分为三个阶段：捕获阶段、目标阶段、冒泡阶段。先调用捕获阶段的处理函数，其次调用目标阶段的处理函数，最后调用冒泡阶段的处理函数。</p>
<p>在outC（目标事件上）上注册的事件处理函数，属于DOM事件流中的目标阶段。目标阶段函数的执行顺序：先注册的先执行，后注册的后执行。这就是上面我们说的，在目标对象上绑定的函数是采用捕获，还是采用冒泡，都没有什么关系，因为冒泡和捕获只是对父元素上的函数执行顺序有影响，对自己没有什么影响。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">outC.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;target1&quot;);&#125;,false);</div><div class="line">outC.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;target2&quot;);&#125;,true);</div><div class="line">outC.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;target3&quot;);&#125;,true);</div><div class="line">outC.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;target4&quot;);&#125;,false);</div></pre></td></tr></table></figure>
<p>所以上述代码按顺序进行执行。</p>
<h3 id="阻止事件冒泡和捕获"><a href="#阻止事件冒泡和捕获" class="headerlink" title="阻止事件冒泡和捕获"></a>阻止事件冒泡和捕获</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">outC.addEventListener(&apos;click&apos;,function(event)&#123;alert(&quot;target2&quot;);event.stopPropagation()&#125;,true);</div><div class="line">	 outC.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;target1&quot;);&#125;,true);</div><div class="line">	  </div><div class="line">	 // 事件冒泡</div><div class="line">	 outA.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;bubble1&quot;);&#125;,false);</div><div class="line">	 outB.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;bubble2&quot;);&#125;,false);</div><div class="line">	  </div><div class="line">	 // 事件捕获</div><div class="line">	 outA.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;capture1&quot;);&#125;,true);</div><div class="line">	 outB.addEventListener(&apos;click&apos;,function()&#123;alert(&quot;capture2&quot;)&#125;,true);</div></pre></td></tr></table></figure>
<p>阻值事件冒泡方法：<code>function(event){event.stopPropagation()}</code></p>
<h2 id="js事件处理程序有哪几种"><a href="#js事件处理程序有哪几种" class="headerlink" title="js事件处理程序有哪几种"></a>js事件处理程序有哪几种</h2><p>1、HTML事件处理程序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;input id=&quot;btn1&quot; value=&quot;按钮&quot; type=&quot;button&quot; onclick=&quot;showmsg();&quot;&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">　function showmsg()&#123;</div><div class="line">　　   alert(&quot;HTML添加事件处理&quot;);</div><div class="line">　&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>即我们直接在HTML代码中添加事件处理程序，事件处理是直接嵌套在元素里头的，这样有一个毛病：就是html代码和js的耦合性太强，如果哪一天我想要改变js中showmsg，那么我不但要再js中修改，我还需要到html中修改。</p>
<p>2、DOM0级事件处理程序</p>
<p>即为指定对象添加事件处理，看下面的一段代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;input id=&quot;btn2&quot; value=&quot;按钮&quot; type=&quot;button&quot;&gt;</div><div class="line">&lt;script&gt;</div><div class="line">　　var btn2= document.getElementById(&quot;btn2&quot;);</div><div class="line">　　btn2.onclick=function()&#123;</div><div class="line">　　　alert(&quot;DOM0级添加事件处理&quot;);</div><div class="line">　　&#125; </div><div class="line">　 btn.onclick=null;//如果想要删除btn2的点击事件，将其置为null即可</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>3、DOM2级事件处理程序</p>
<p>但是主要涉及到两个方法，用于处理指定和删除事件处理程序的操作：addEventListener()和 removeEventListener()。<br>它们都接收三个参数：要处理的事件名、作为事件处理程序的函数和一个布尔值（是否在捕获阶段处理事件），看下面的一段代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">input id=&quot;btn3&quot; value=&quot;按钮&quot; type=&quot;button&quot;&gt;</div><div class="line">&lt;script&gt;</div><div class="line">　var btn3=document.getElementById(&quot;btn3&quot;);</div><div class="line">　btn3.addEventListener(&quot;click&quot;,showmsg,false);//这里我们把最后一个值置为false，即不在捕获阶段处理，一般来说冒泡处理在各浏览器中兼容性较好</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p><strong>DOM0和DOM2之间的区别</strong></p>
<p>区别：如果定义了两个dom0级事件，dom0级事件会覆盖</p>
<p>dom2不会覆盖，会依次执行</p>
<p>dom0和dom2可以共存，不互相覆盖，但是dom0之间依然会覆盖</p>
<h2 id="DOM-api的API的扩展"><a href="#DOM-api的API的扩展" class="headerlink" title="DOM api的API的扩展"></a>DOM api的API的扩展</h2><p>querySelector方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var body = document.querySelector(&quot;body&quot;);</div><div class="line">//取得ID 为&quot;myDiv&quot;的元素</div><div class="line">var myDiv = document.querySelector(&quot;#myDiv&quot;);</div><div class="line">//取得类为&quot;selected&quot;的第一个元素</div><div class="line">var selected = document.querySelector(&quot;.selected&quot;);</div><div class="line">//取得类为&quot;button&quot;的第一个图像元素</div><div class="line">var img = document.body.querySelector(&quot;img.button&quot;)</div></pre></td></tr></table></figure></p>
<p>querySelectorAll()方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//取得某&lt;div&gt;中的所有&lt;em&gt;元素（类似于getElementsByTagName(&quot;em&quot;)）</div><div class="line">var ems = document.getElementById(&quot;myDiv&quot;).querySelectorAll(&quot;em&quot;);</div><div class="line">//取得类为&quot;selected&quot;的所有元素</div><div class="line">var selecteds = document.querySelectorAll(&quot;.selected&quot;);</div><div class="line">//取得所有&lt;p&gt;元素中的所有&lt;strong&gt;元素</div><div class="line">var strongs = document.querySelectorAll(&quot;p strong&quot;);</div></pre></td></tr></table></figure></p>
<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;title&gt;&lt;/title&gt;</div><div class="line">	&lt;style&gt;</div><div class="line">		ul&#123;</div><div class="line">			border:1px solid blue;</div><div class="line">		&#125;</div><div class="line">		li&#123;</div><div class="line">			border:1px solid red;</div><div class="line">		&#125;</div><div class="line">		#inner&#123;</div><div class="line">			border:1px solid black;</div><div class="line">			width:100px;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;ul id=&quot;list&quot;&gt;</div><div class="line">	    &lt;li id=&quot;l2&quot;&gt;&lt;div id=&quot;inner&quot;&gt;2&lt;/div&gt;&lt;/li&gt;</div><div class="line">        &lt;li id=&quot;l3&quot;&gt;3&lt;/li&gt;</div><div class="line">        &lt;li id=&quot;l4&quot;&gt;4&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">    &lt;script&gt;</div><div class="line">    	var ul =document.getElementById(&quot;list&quot;);</div><div class="line">    	ul.addEventListener(&apos;click&apos;, function(e)&#123;    		</div><div class="line">    		var temp = e.target;</div><div class="line">    		while(temp.tagName!=&quot;LI&quot;)&#123;</div><div class="line">    			if(temp.tagName==&quot;UL&quot;)&#123;</div><div class="line">    				e.target=null;</div><div class="line">    				break;</div><div class="line">    			&#125;</div><div class="line">    			temp = temp.parentNode;</div><div class="line">    		&#125;</div><div class="line">    		console.log(e,e.target);</div><div class="line">    		alert(&apos;success&apos;);</div><div class="line"></div><div class="line">    	&#125;);</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>利用事件流的捕获、冒泡特性，在父元素直接绑定事件。</p>
<p>注意：在<li>元素内部还存在子元素时，且事件触发在该子元素上，则委托无效。此时可以通过循环将父节点给到子节点完成事件委托绑定。</li></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/03/笔试面试(4)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/03/笔试面试(4)/" itemprop="url">笔试面试题（4）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-03T00:00:00+08:00">
                2017-07-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/03/笔试面试(4)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/03/笔试面试(4)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/03/笔试面试(4)/" class="leancloud_visitors" data-flag-title="笔试面试题（4）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="节点修改API"><a href="#节点修改API" class="headerlink" title="节点修改API"></a>节点修改API</h2><p><strong>1.appendChild</strong></p>
<p>parent.appendChild(child);</p>
<p><strong>2.insertBefore</strong></p>
<p>parentNode.insertBefore(newNode, refNode);</p>
<p><strong>3. removeChild</strong></p>
<p>var deletedChild = parent.removeChild(childnode);<br>返回删除的节点</p>
<p><strong>4.replaceChild</strong></p>
<p>parent.replaceChild(newchild,oldchild);</p>
<h2 id="父子关系API"><a href="#父子关系API" class="headerlink" title="父子关系API"></a>父子关系API</h2><p><strong>parentNode</strong>：每个节点都有一个parentNode属性，它表示元素的父节点。Element的父节点可能是Element，Document，DocumentFragment；</p>
<p><strong>childNodes</strong>：返回一个实时的NodeList，表示元素的子节点列表，注意子节点可能包含文本节点、注释节点等；</p>
<p><strong>firstChild</strong>：返回第一个子节点，不存在返回null，与之相对应的还有一个firstElementChild；</p>
<p><strong>lastChild</strong>：返回最后一个子节点，不存在返回null，与之相对应的还有一个lastElementChild；</p>
<h2 id="兄弟关系"><a href="#兄弟关系" class="headerlink" title="兄弟关系"></a>兄弟关系</h2><p><strong>previousSibling</strong>：节点的前一个节点，如果不存在则返回null。注意有可能拿到的节点是文本节点或注释节点，与预期的不符，要进行处理一下。</p>
<p><strong>nextSibling</strong>：节点的后一个节点，如果不存在则返回null。注意有可能拿到的节点是文本节点，与预期的不符，要进行处理一下</p>
<h2 id="元素属性型API"><a href="#元素属性型API" class="headerlink" title="元素属性型API"></a>元素属性型API</h2><p>设置属性setAttribute,element.setAttribute(name,value);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">document.getElementsByTagName(&quot;INPUT&quot;)[0].setAttribute(&quot;type&quot;,&quot;button&quot;);</div></pre></td></tr></table></figure></p>
<p>获得属性getAttribute, var value=getAttribute(“id”);获取id的值</p>
<p>##　null和undefined的区别？</p>
<p>　　null是一个表示”无”的对象，转为数值时为0；undefined是一个表示”无”的原始值，转为数值时为NaN。</p>
<p>undefined：</p>
<p>　　（1）变量被声明了，但没有赋值时，就等于undefined。</p>
<p>　　（2) 调用函数时，应该提供的参数没有提供，该参数等于undefined。</p>
<p>　　（3）对象没有赋值的属性，该属性的值为undefined。</p>
<p>　　（4）函数没有返回值时，默认返回undefined。</p>
<p>null：</p>
<p>　　（1） 作为函数的参数，表示该函数的参数不是对象。</p>
<p>　　（2） 作为对象原型链的终点。</p>
<h2 id="http状态码"><a href="#http状态码" class="headerlink" title="http状态码"></a>http状态码</h2><p>　　200 OK 正常返回信息</p>
<p>　　302 Found 临时性重定向。</p>
<p>　　303 See Other 临时性重定向，且总是使用 GET 请求新的 URI。</p>
<p>　　304 Not Modified 自从上次请求后，请求的网页未修改过。</p>
<p>　　403 Forbidden 禁止访问。</p>
<p>　　404 Not Found 找不到如何与 URI 相匹配的资源。</p>
<p>　　500 Internal Server Error 最常见的服务器端错误。</p>
<p>　　503 Service Unavailable 服务器端暂时无法处理请求（可能是过载或维护）</p>
<h2 id="线程和进程的区别"><a href="#线程和进程的区别" class="headerlink" title="线程和进程的区别"></a>线程和进程的区别</h2><p>一个程序至少有一个进程,一个进程至少有一个线程。线程的划分尺度小于进程，使得多线程程序的并发性高。</p>
<p>另外，<strong>进程在执行过程中拥有独立的内存单元，而多个线程共享内存</strong>，从而极大地提高了程序的运行效率。</p>
<p>线程在执行过程中与进程还是有区别的。<strong>每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制</strong>。</p>
<p>从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。</p>
<h2 id="js运行机制详解"><a href="#js运行机制详解" class="headerlink" title="js运行机制详解"></a>js运行机制详解</h2><h3 id="js是单线程的"><a href="#js是单线程的" class="headerlink" title="js是单线程的"></a>js是单线程的</h3><p>与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？</p>
<h3 id="任务队列"><a href="#任务队列" class="headerlink" title="任务队列"></a>任务队列</h3><p>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。如果前一个任务耗时很长，后一个任务就不得不一直等着。</p>
<p>如果排队是因为计算量大，CPU忙不过来，倒也算了，但是很多时候CPU是闲着的，因为IO设备（输入输出设备）很慢（比如Ajax操作从网络读取数据），不得不等着结果出来，再往下执行。</p>
<p>JavaScript语言的设计者意识到，这时主线程完全可以不管IO设备，<strong>挂起</strong>处于等待中的任务，先运行排在后面的任务。等到IO设备返回了结果，再回过头，把挂起的任务继续执行下去。</p>
<p>于是，所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。</p>
<p><strong>同步任务</strong>指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；</p>
<p><strong>异步任务</strong>指的是，不进入主线程、而进入”任务队列”（task queue）的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。</p>
<p><strong>具体来说，异步执行的运行机制如下：</strong></p>
<p>（1）所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。</p>
<p>（2）主线程之外，还存在一个”任务队列”（task queue）。只要异步任务有了运行结果，就在”任务队列”之中放置一个事件。</p>
<p>（3）一旦”执行栈”中的所有同步任务执行完毕，系统就会读取”任务队列”，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。</p>
<p>（4）主线程不断重复上面的第三步。</p>
<h3 id="事件和回调函数"><a href="#事件和回调函数" class="headerlink" title="事件和回调函数"></a>事件和回调函数</h3><p>“任务队列”是一个事件的队列（也可以理解成消息的队列），IO设备完成一项任务，就在”任务队列”中添加一个事件，表示相关的异步任务可以进入”执行栈”了。主线程读取”任务队列”，就是读取里面有哪些事件。</p>
<p>“任务队列”中的事件，除了IO设备的事件以外，还包括一些<strong>用户产生的事件（比如鼠标点击、页面滚动等等</strong>）。只要指定过回调函数，这些事件发生时就会进入”任务队列”，等待主线程读取。</p>
<p>所谓”回调函数”（callback），就是那些会被主线程挂起来的代码。<strong>异步任务必须指定回调函数，当主线程开始执行异步任务，就是执行对应的回调函数</strong>。</p>
<p><em>“任务队列”是一个先进先出的数据结构</em>，排在前面的事件，优先被主线程读取。主线程的读取过程基本上是自动的，只要执行栈一清空，”任务队列”上第一位的事件就自动进入主线程。但是，由于存在后文提到的”定时器”功能，主线程首先要检查一下执行时间，某些事件只有到了规定的时间，才能返回主线程。<strong>主线程从”任务队列”中读取事件，这个过程是循环不断的，所以整个的这种运行机制又称为Event Loop（事件循环）</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/02/笔试面试(3)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/02/笔试面试(3)/" itemprop="url">笔试面试题（3）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-02T00:00:00+08:00">
                2017-07-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/02/笔试面试(3)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/02/笔试面试(3)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/02/笔试面试(3)/" class="leancloud_visitors" data-flag-title="笔试面试题（3）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##　判断数据类型方法</p>
<p>1.typeof(变量)。typeof用以获取一个变量的类型，typeof一般只能返回如下几个结果：number,boolean,string,function,object,undefined。我们可以使用typeof来获取一个变量是否存在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">typeof(null)</div><div class="line">&quot;object&quot;</div><div class="line"></div><div class="line">typeof(undefined)</div><div class="line">&quot;undefined&quot;</div><div class="line"></div><div class="line">var a =&#123;&#125;;</div><div class="line">console.log(a instanceof Object)</div></pre></td></tr></table></figure>
<p>2.根据constructor来判断。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var a=&#123;&#125;,b=[];</div><div class="line">console.log(a.constructor==Object&amp;&amp;b.constructor==Array)</div><div class="line">结果：true</div></pre></td></tr></table></figure>
<p>3.根据toString()方法来判断，是最通用的方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var a=&quot;&quot;;</div><div class="line">console.log(Object.prototype.toString.call(a))</div><div class="line">结果： [object String]</div><div class="line"></div><div class="line">var a=&#123;&#125;,b=[];</div><div class="line">console.log(Object.prototype.toString.call(b))</div><div class="line">结果： &apos;[object Array]&apos;</div></pre></td></tr></table></figure>
<h2 id="正则方法使用"><a href="#正则方法使用" class="headerlink" title="正则方法使用"></a>正则方法使用</h2><p>test:pattern.test(string);</p>
<p>exec: pattern.exec(string);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg=/&lt;(\w+)(&gt;)/g;</div><div class="line">reg.exec(&quot;&lt;hksdjfttekj&gt;&quot;)</div><div class="line"> [&quot;&lt;hksdjfttekj&gt;&quot;, &quot;hksdjfttekj&quot;, &quot;&gt;&quot;]</div></pre></td></tr></table></figure>
<p>exec返回匹配到的数组，第一个参数为匹配项，第二个参数为第一个捕获项，第三个参数为第二个捕获项</p>
<p>match: str.match(pattern)也是返回一个匹配的数组</p>
<p>replace:</p>
<p><strong>示例1</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var str = &quot;Apples are round, and apples are juicy.&quot;;</div><div class="line">var reg=/apples/ig;</div><div class="line">console.log(str.replace(reg,&apos;organce&apos;))</div><div class="line">结果 organce are round, and organce are juicy.</div></pre></td></tr></table></figure></p>
<p><strong>示例2</strong><br>当使用replace方法匹配时，假如第一个参数是 RegExp对象，并且 n 是个小于100的非负整数，那么<strong> $n 表示插入第 n 个括号匹配的字符串</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var re = /(\w+)\s(\w+)/;</div><div class="line">var str = &quot;John Smith&quot;;</div><div class="line">var newstr = str.replace(re, &quot;$2, $1&quot;);</div><div class="line">// Smith, John</div><div class="line">console.log(newstr);</div><div class="line"></div><div class="line">var str=&quot;bat hat cat &quot;;</div><div class="line">var reg=/((t))/ig;</div><div class="line">console.log(str.replace(reg,&quot;$1$2&quot;))</div><div class="line"> batt hatt catt</div></pre></td></tr></table></figure></p>
<h2 id="常用正则表达式总结"><a href="#常用正则表达式总结" class="headerlink" title="常用正则表达式总结"></a>常用正则表达式总结</h2><p>验证数字：^[0-9]*$</p>
<p>验证n位的数字：^\d{n}$</p>
<p>验证至少n位数字：^\d{n,}$</p>
<p>验证m-n位的数字：^\d{m,n}$</p>
<p>验证零和非零开头的数字：^(0|[1-9][0-9]*)$</p>
<p>验证有两位小数的正实数：^[0-9]+(.[0-9]{2})?$</p>
<p>验证由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$</p>
<p>验证由数字、26个英文字母或者下划线组成的字符串：^\w+$ </p>
<p>验证用户密码:^[a-zA-Z]\w{5,17}$ 正确格式为：以字母开头，长度在6-18之间，只能包含字符、数字和下划线</p>
<p>验证Email地址：^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)*$</p>
<p>验证InternetURL：^<a href="http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$" target="_blank" rel="external">http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</a> ；^[a-zA-z]+://(w+(-w+)<em>)(.(w+(-w+)</em>))<em>(?S</em>)?$</p>
<h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><p>CDN的全称是Content Delivery Network，即内容分发网络。其<strong>基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定</strong>。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。</p>
<h2 id="跨域资源共享-CORS-详解"><a href="#跨域资源共享-CORS-详解" class="headerlink" title="跨域资源共享 CORS 详解"></a>跨域资源共享 CORS 详解</h2><p>需要浏览器和服务器同时支持。整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。</p>
<p>浏览器将CORS请求分成两类：简单请求（simple request）和非简单请求（not-so-simple request）。只要同时满足以下两大条件，就属于简单请求:</p>
<p>（1) 请求方法是以下三种方法之一：HEAD，GET，POST</p>
<p>（2）HTTP的头信息不超出以下几种字段：Accept；Accept-Language；Content-Language；Last-Event-ID；Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain；凡是不同时满足上面两个条件，就属于非简单请求。</p>
<p><strong>简单请求</strong></p>
<p>对于简单请求，浏览器直接发出CORS请求。具体来说，就是在头信息之中，增加一个Origin字段。下面是一个例子，浏览器发现这次跨源AJAX请求是简单请求，就自动在头信息之中，添加一个Origin字段。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">GET /cors HTTP/1.1；Origin: http://api.bob.com；Host: api.alice.com；</div><div class="line"></div><div class="line">Accept-Language: en-US；Connection: keep-alive；User-Agent: Mozilla/5.0...</div></pre></td></tr></table></figure></p>
<p>上面的头信息中，Origin字段用来说明，本次请求来自哪个源（协议 + 域名 + 端口）。服务器根据这个值，决定是否同意这次请求。</p>
<p>非简单请求</p>
<p>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为”预检”请求（preflight）。</p>
<p>浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些HTTP动词和头信息字段。只有得到肯定答复，浏览器才会发出正式的XMLHttpRequest请求，否则就报错。下面是一段浏览器的JavaScript脚本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var url = &apos;http://api.alice.com/cors&apos;;</div><div class="line"></div><div class="line">var xhr = new XMLHttpRequest();</div><div class="line"></div><div class="line">xhr.open(&apos;PUT&apos;, url, true);</div><div class="line"></div><div class="line">xhr.setRequestHeader(&apos;X-Custom-Header&apos;, &apos;value&apos;);</div><div class="line"></div><div class="line">xhr.send();</div></pre></td></tr></table></figure></p>
<p>上面代码中，HTTP请求的方法是PUT，并且发送一个自定义头信息X-Custom-Header。</p>
<p>浏览器发现，这是一个非简单请求，就自动发出一个”预检”请求，要求服务器确认可以这样请求。下面是这个”预检”请求的HTTP头信息。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">OPTIONS /cors HTTP/1.1</div><div class="line"></div><div class="line">Origin: http://api.bob.com；      Access-Control-Request-Method: PUT</div><div class="line"></div><div class="line">Access-Control-Request-Headers: X-Custom-Header</div><div class="line"></div><div class="line">Host: api.alice.com；             Accept-Language: en-US</div><div class="line"></div><div class="line">Connection: keep-alive；          User-Agent: Mozilla/5.0...</div></pre></td></tr></table></figure></p>
<p>“预检”请求用的请求方法是OPTIONS，表示这个请求是用来询问的。头信息里面，关键字段是Origin，表示请求来自哪个源。</p>
<p>一旦服务器通过了”预检”请求，以后每次浏览器正常的CORS请求，就都跟简单请求一样，会有一个Origin头信息字段。服务器的回应，也都会有一个Access-Control-Allow-Origin头信息字段。</p>
<p>CORS与JSONP的使用目的相同，但是比JSONP更强大。</p>
<h2 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h2><p>判断浏览器是否支持</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if(window.localStorage)&#123;</div><div class="line">	console.log(true)</div><div class="line">&#125;</div><div class="line">结果：true</div></pre></td></tr></table></figure>
<p>可以通过setItem和getItem方法设置localStorage<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">localStorage.setItem(&quot;haha&quot;,&quot;hello&quot;)</div><div class="line"></div><div class="line">console.log(localStorage.getItem(&quot;haha&quot;))</div><div class="line">hello</div></pre></td></tr></table></figure></p>
<h2 id="Cookie、sessionStorage-和-localStrorage"><a href="#Cookie、sessionStorage-和-localStrorage" class="headerlink" title="Cookie、sessionStorage 和 localStrorage"></a>Cookie、sessionStorage 和 localStrorage</h2><p>sessionStorage 和 localStorage 是HTML5 Web Storage API 提供的，可以方便的在web请求之间保存数据。有了本地数据，就可以避免数据在浏览器和服务器间不必要地来回传递。</p>
<p>sessionStorage 、localStorage 和 cookie 之间的区别：</p>
<p>共同点：都是保存在浏览器端，且同源的。</p>
<p>区别：<strong>cookie数据始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递</strong>。<strong>而sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。</strong>cookie数据还有路径（path）的概念，可以限制cookie只属于某个路径下。存储大小限制也不同，cookie数据不能超过4k，同时因为每次http请求都会携带cookie，所以cookie只适合保存很小的数据，如会话标识。</p>
<p>sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。数据有效期不同，sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持；localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；cookie只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。作用域不同，sessionStorage不在不同的浏览器窗口中共享，即使是同一个页面；localStorage 在所有同源窗口中都是共享的；cookie也是在所有同源窗口中都是共享的。Web Storage 支持事件通知机制，可以将数据更新的通知发送给监听者。Web Storage 的 api 接口使用更方便。</p>
<h2 id="html5（websocket等）"><a href="#html5（websocket等）" class="headerlink" title="html5（websocket等）"></a>html5（websocket等）</h2><p>1 新的Doctype ：尽管使用&lt;!DOCTYPE html&gt;，即使浏览器不懂这句话也会按照标准模式去渲染</p>
<p>2 去掉link和script标签里面的type属性</p>
<p>3 Local Storage ：使用Local Storage可以永久存储大的数据片段在客户端（除非主动删除），目前大部分浏览器已经支持，在使用之前可以检测一下window.localStorage是否存在</p>
<p>4 语义化的header和footer</p>
<p>5 video audio的支持</p>
<h2 id="Label-for"><a href="#Label-for" class="headerlink" title="Label for"></a>Label for</h2><p>for 属性规定 label 与哪个表单元素绑定。</p>
<p>隐式和显式的联系：标记通常以下面两种方式中的一种来和表单控件相联系：将表单控件作为标记标签的内容(放在<label></label>标签之间)，这样的就是隐式形式;或者为 <label> 标签下的 for 属性命名一个目标表单的id，这样就是显式形式。</label></p>
<h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2><p>1.在需要清除浮动的父级元素内部的所有浮动元素后添加这样一个标签清除浮动clear:both;</p>
<p>2.使用该方法是只需在需要清除浮动的元素中定义CSS属性：overflow:auto，即可！”zoom:1″用于兼容IE6,也可以用width:100%。不过使用overflow的时候，可能会对页面表现带来影响，而且这种影响是不确定的，你最好是能在多个浏览器上测试你的页面</p>
<p>3.使用after伪对象清除浮动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">.container:after&#123;</div><div class="line">            display: block;</div><div class="line">            content:&quot;&quot;;</div><div class="line">            height:0;</div><div class="line">            visibility:hidden;</div><div class="line">            clear:both;</div><div class="line">          &#125;</div></pre></td></tr></table></figure></p>
<h2 id="浏览器内核"><a href="#浏览器内核" class="headerlink" title="浏览器内核"></a>浏览器内核</h2><p>浏览器：IE，Chrome，FireFox，Safari，Opera。</p>
<p>内核：Trident，Gecko，Presto，Webkit。</p>
<p>主要分成两部分：渲染引擎(layout engineer或Rendering Engine)和js引擎。</p>
<p>渲染引擎：负责取得网页的内容（HTML、XML、图像等等）、整理讯息（例如加入CSS等），以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核。</p>
<p>JS引擎则：解析和执行javascript来实现网页的动态效果。最开始渲染引擎和JS引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎。</p>
<h2 id="dom基本操作"><a href="#dom基本操作" class="headerlink" title="dom基本操作"></a>dom基本操作</h2><p>创建新节点</p>
<p>createElement() //创建一个具体的元素</p>
<p>createTextNode() //创建一个文本节点</p>
<p>添加、移除、替换、插入<br>appendChild()</p>
<p>removeChild()</p>
<p>replaceChild()</p>
<p>insertBefore(newNode,nowNode) //在已有的子节点前插入一个新的子节点</p>
<p>查找<br>　　　　<br>getElementsByTagName() //通过标签名称</p>
<p>getElementById() //通过元素Id，唯一性</p>
<p>getElementsByClassName()</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/01/笔试面试题（2）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/01/笔试面试题（2）/" itemprop="url">笔试面试（2）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-01T00:00:00+08:00">
                2017-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基本知识/" itemprop="url" rel="index">
                    <span itemprop="name">基本知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/01/笔试面试题（2）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/01/笔试面试题（2）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/01/笔试面试题（2）/" class="leancloud_visitors" data-flag-title="笔试面试（2）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、从输入网址到显示网页的过程分析"><a href="#1、从输入网址到显示网页的过程分析" class="headerlink" title="1、从输入网址到显示网页的过程分析"></a>1、从输入网址到显示网页的过程分析</h2><p>1、应用层DNS解析域名：客户端先检查本地是否有对应的IP地址，若找到则返回响应的IP地址。若没找到则请求上级DNS服务器，直至找到或到根节点。</p>
<p>2、浏览器与服务器建立TCP连接（默认端口80）(详细点可以说下三次握手的过程)</p>
<p>3、应用层客户端发送HTTP请求。</p>
<p>4、服务器响应请求：查找客户端请求的资源，并返回响应报文，响应报文中包括一个重要的信息——状态码（200-300，成功；304使用缓存）。</p>
<p>5、服务器返回相应文件给浏览器。</p>
<p>6、Tcp连接释放(可以说下四次挥手的过程)。</p>
<p>  7、浏览器对HTML文件进行解析构建DOM树 ，构建渲染树 ，js根据DomAPI操作执行绑定事件等，页面显示完成。</p>
<h2 id="float"><a href="#float" class="headerlink" title="float"></a>float</h2><p>属性值为:left,right,none;元素会分别左移，右移，直到触碰到容器为止。<br>当块级元素没有设置宽度，但是却设置了float属性(right,left)时，元素的宽度随内容的变化而变化。</p>
<p>清除浮动方法：clear:both;同时设置width:100%(或固定宽度)+overflow:hidden;</p>
<h2 id="position"><a href="#position" class="headerlink" title="position"></a>position</h2><p>postion可拥有三种定位形式：静态定位，相对定位，绝对定位，对应的属性值有四个：分别为static(静态定位),relative(相对定位),absolute(绝对定位),fixed(固定定位)，其中最后两种属于绝对定位。</p>
<p><strong>各类定位特点：</strong></p>
<p>相对定位：相对于自身原有位置偏移，仍然处于标准文档流中。</p>
<p>绝对定位：建立了以包含块为基准的的定位，脱离的标准文档流。当一个元素设置了绝对定位但是没有设置宽度，元素的宽度会随着内容而变化。</p>
<p><strong>脱离文档流的操作有：</strong></p>
<p><strong>绝对定位absolute,固定定位fixed，浮动float</strong>。</p>
<h2 id="三栏式布局"><a href="#三栏式布局" class="headerlink" title="三栏式布局"></a>三栏式布局</h2><p><strong>container的宽度固定并垂直居中</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE  html&gt;</div><div class="line">&lt;html  lang=&quot;zh-cn&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">&lt;title&gt;This is my title&lt;/title&gt;</div><div class="line">      &lt;style&gt;</div><div class="line">          #big-box&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             width:650px;</div><div class="line">             height:400px;/*块级元素定义宽度，高度*/</div><div class="line">             margin:0 auto;/*元素水平居中*/</div><div class="line">             /*margin用法可以有1,2,3,4个参数*/</div><div class="line">          &#125;</div><div class="line">          #header&#123;</div><div class="line">            /*块级元素不设置宽度时，宽度随着内容的变化而变化*/</div><div class="line">             padding:auto;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-top:10px;</div><div class="line">             margin-left:10px;</div><div class="line">             margin-right:10px;</div><div class="line">          &#125;</div><div class="line">          #left&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-left:10px;</div><div class="line">             height:250px;</div><div class="line">             width:175px;</div><div class="line">             float:left;</div><div class="line">          &#125;</div><div class="line">          #main&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             height:250px;</div><div class="line">             width:250px;</div><div class="line">             margin:0 auto;</div><div class="line">			 /*margin-left:10px;margin-right:10px*/通过这种设置让左右两边距离相同</div><div class="line"></div><div class="line">          &#125;</div><div class="line">          #right&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-right:10px;    </div><div class="line">             margin-top:-250px;</div><div class="line">             height:250px;</div><div class="line">             width:175px;</div><div class="line">             float:right;</div><div class="line">          &#125;</div><div class="line">          #footer&#123;</div><div class="line">             margin-top:10px;</div><div class="line">             border:1px solid blue;</div><div class="line">             clear:both;</div><div class="line">             margin-left:10px;</div><div class="line">             margin-right:10px;</div><div class="line">          &#125;</div><div class="line">      &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=&quot;big-box&quot;&gt;</div><div class="line">      &lt;p id = &quot;header&quot;&gt;header header header header header header header header header header&lt;/p&gt;</div><div class="line"></div><div class="line">      &lt;div id=&quot;left&quot;&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">        &lt;p&gt;left left left&lt;/p&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">      &lt;div id=&quot;main&quot;&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">      &lt;div id=&quot;right&quot;&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">        &lt;p&gt;right right right&lt;/p&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line"></div><div class="line">        &lt;p id = &quot;footer&quot;&gt;footer footer footerfooter footer footerfooter footer footerfooter footer footerfooter footer&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<h2 id="两栏布局"><a href="#两栏布局" class="headerlink" title="两栏布局"></a>两栏布局</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE  html&gt;</div><div class="line">&lt;html  lang=&quot;zh-cn&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">&lt;title&gt;This is my title&lt;/title&gt;</div><div class="line">      &lt;style&gt;</div><div class="line">          #big-box&#123;</div><div class="line">             display:block;</div><div class="line">             border:1px solid blue;</div><div class="line">             width:640px;</div><div class="line">             height:410px;</div><div class="line">             margin:auto;</div><div class="line">          &#125;</div><div class="line">          #header&#123;</div><div class="line">/*             padding:auto;*/</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-top:10px;</div><div class="line">             margin-left:10px;</div><div class="line">             margin-right:10px;</div><div class="line">          &#125;</div><div class="line">          #left&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-left:10px;</div><div class="line">             width:240px;</div><div class="line">             height:265px;</div><div class="line">             float:left;</div><div class="line">             text-align:center;</div><div class="line">          &#125;</div><div class="line">          #left12&#123;</div><div class="line">            height:125px;</div><div class="line">            border:1px solid blue;</div><div class="line">            margin:5px;</div><div class="line">          &#125;</div><div class="line">          #left1&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin:3px;</div><div class="line">             float:left;</div><div class="line">             height:110px;</div><div class="line">          &#125;</div><div class="line">          #left2&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-left:auto;</div><div class="line">             margin-top:3px;</div><div class="line">             margin-right:3px;</div><div class="line">             height:110px;</div><div class="line">             width:100px;</div><div class="line">          &#125;</div><div class="line">          #left3&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin:5px;</div><div class="line">             height:125px;            </div><div class="line">          &#125;</div><div class="line"></div><div class="line">          #main&#123;</div><div class="line">             border:1px solid blue;</div><div class="line">             margin-left:auto;</div><div class="line">             margin-right:10px;</div><div class="line">             height:265px;</div><div class="line">             width:370px;</div><div class="line">          &#125;</div><div class="line">          #footer&#123;</div><div class="line"></div><div class="line">             border:1px solid blue;</div><div class="line">             margin-top:10px;</div><div class="line">             margin-left:10px;</div><div class="line">             margin-right:10px;</div><div class="line">          &#125;</div><div class="line">      &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=&quot;big-box&quot;&gt;</div><div class="line">      &lt;p id = &quot;header&quot;&gt;header header header header header header header header header header&lt;/p&gt;</div><div class="line">      &lt;div id=&quot;left&quot;&gt;</div><div class="line">        &lt;div id=&quot;left12&quot;&gt;</div><div class="line">          &lt;div id=&quot;left1&quot;&gt;</div><div class="line">             &lt;p&gt;left1 left1 left1&lt;/p&gt;</div><div class="line">             &lt;p&gt;left1 left1 left1&lt;/p&gt;</div><div class="line">             &lt;p&gt;left1 left1 left1&lt;/p&gt;</div><div class="line">          &lt;/div&gt;</div><div class="line">          &lt;div id=&quot;left2&quot;&gt;</div><div class="line">             &lt;p&gt;left2 left2 &lt;/p&gt;</div><div class="line">             &lt;p&gt;left2 left2 &lt;/p&gt;</div><div class="line">          &lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;div id=&quot;left3&quot;&gt;</div><div class="line">           &lt;p&gt;left3 left3 left3&lt;/p&gt;</div><div class="line">           &lt;p&gt;left3 left3 left3&lt;/p&gt;</div><div class="line">           &lt;p&gt;left3 left3 left3&lt;/p&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">      &lt;div id=&quot;main&quot;&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">        &lt;p&gt;main main main&lt;/p&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line"></div><div class="line">        &lt;p id=&quot;footer&quot;&gt;footer footer footerfooter footer footerfooter footer footerfooter footer footerfooter footer&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html</div></pre></td></tr></table></figure>
<p>注意：页面布局从外往里，熟悉相关属性方法，层层思考。</p>
<h2 id="跨域的实现方式"><a href="#跨域的实现方式" class="headerlink" title="跨域的实现方式"></a>跨域的实现方式</h2><p><em>由于浏览器同源策略，凡是发送请求url的协议、域名、端口三者之间任意一与当前页面地址不同即为跨域。</em></p>
<p>（1）JSONP<br>这种方式主要是通过动态插入一个script标签。浏览器对script的资源引用没有同源限制（所谓同源是指所请求的主机，域名，协议，端口与当前相同），同时资源加载到页面后会立即执行。具体来说就是本站脚本创建一个<script>元素，地址指向第三方的API网址，形如：<code>&lt;script src=&quot;http://www.example.net/api?param1=1&amp;param2=2&quot;&gt;&lt;/script&gt;</code>并提供一个回调函数来接收数据（函数名可约定，或通过地址参数传递）。   </p>
<p>第三方产生的响应为json数据的包装（故称之为jsonp，即json padding），形如：<code>callback({&quot;name&quot;:&quot;hax&quot;,&quot;gender&quot;:&quot;Male&quot;})</code>这样浏览器会调用callback函数，并传递解析后json对象作为参数，，客户端即可拿到数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function json(jsonObj) &#123;</div><div class="line">   //dosomthing</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 调用jsonHandle，传入地址、追加参数，服务器端返回js代码，</div><div class="line">// 并调用客户端写好的json方法并把json数据传入进来。</div><div class="line">function jsonHandle(url) &#123;</div><div class="line">    var script = document.createElement(&quot;script&quot;);</div><div class="line">    script.setAttribute(&quot;src&quot;,url);</div><div class="line">    document.body.appendChild(script);</div><div class="line"></div><div class="line">    // 防止 script 标签冗余</div><div class="line">    if(oScript) &#123;</div><div class="line">      document.body.removeChild(oScript);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(2)通过修改document.domain来跨<strong>子域</strong></p>
<p>在页面<a href="http://www.example.com/a.html">http://www.example.com/a.html</a> 上设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">document.domain = &apos;example.com&apos;;</div><div class="line">var ifr = document.createElement(&apos;iframe&apos;);</div><div class="line">ifr.src = &apos;http://example.com/b.html&apos;;</div><div class="line">ifr.style.display = &apos;none&apos;;</div><div class="line">document.body.appendChild(ifr);</div><div class="line">ifr.onload = function()&#123;</div><div class="line">    var doc = ifr.contentDocument || ifr.contentWindow.document;</div><div class="line">    // 在这里操纵b.html</div><div class="line">    alert(doc.getElementsByTagName(&quot;h1&quot;)[0].childNodes[0].nodeValue);</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>同时，在页面<a href="http://example.com/b.html上设置`document.domain">http://example.com/b.html上设置`document.domain</a> = ‘a.com’`</p>
<p>##　安全性问题</p>
<p>###1、SQL注入 ###</p>
<p>所谓SQL注入，就是<strong>通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串</strong>，最终达到欺骗服务器执行恶意的SQL命令。<br>具体来说，它是利用现有应用程序，将(恶意)的SQL命令注入到后台数据库引擎执行的能力，它可以通过在Web表单中输入(恶意)SQL语句得到一个存在安全漏洞的网站上的数据库，而不是按照设计者意图去执行SQL语句。</p>
<p>###2、Xss###<br><strong>Xss表示Cross Site Scripting(跨站脚本攻击)</strong>。它与SQL注入攻击类似，SQL注入攻击中以SQL语句作为用户输入，从而达到查询/修改/删除数据的目的，而在Xss攻击中，通过插入恶意脚本，实现对用户浏览器的控制。</p>
<p>现代web开发框架如vue.js、react.js等，在设计的时候就考虑了Xss攻击<strong>对html插值进行了更进一步的抽象、过滤和转义（转义安全字符）</strong>，我们只要熟练正确地使用他们，就可以在大部分情况下避免XSS攻击。<br>同时，<strong>许多基于MVVM框架的SPA（单页应用）不需要刷新URL来控制view，这样大大防止了XSS隐患</strong>。</p>
<p>###3、Csrf###</p>
<h2 id="HTTP最常见的响应头如下所示"><a href="#HTTP最常见的响应头如下所示" class="headerlink" title="HTTP最常见的响应头如下所示"></a>HTTP最常见的响应头如下所示</h2><p> Allow：服务器支持哪些请求方法（如GET、POST等）；</p>
<p>Content-Encoding： 文档的编码（Encode）方法。只有在解码之后才可以得到Content-Type头指定的内容类型。利用gzip压缩文档能够显著地减少HTML文档 的下载时间。Java的GZIPOutputStream可以很方便地进行gzip压缩，但只有Unix上的Netscape和Windows上的IE 4、IE 5才支持它。因此，Servlet应该通过查看Accept-Encoding头（即request.getHeader(“Accept- Encoding”)）检查浏览器是否支持gzip，为支持gzip的浏览器返回经gzip压缩的HTML页面，为其他浏览器返回普通页面；</p>
<p>Content-Length：表示内容长度。只有当浏览器使用持久HTTP连接时才需要这个数据。如果你想要利用持久连接的优势，可以把输出文档写入<code>ByteArrayOutputStram</code>，完成后查看其大小，然后把该值放入Content-Length头，最后通过 <code>byteArrayStream.writeTo(response.getOutputStream())</code>发送内容；</p>
<p>Content-Type：表示后面的文档属于什么MIME类型。Servlet默认为text/plain，但通常需要显式地指定为text/html。由于经常要设置 Content-Type，因此HttpServletResponse提供了一个专用的方法setContentTyep。可在web.xml文件中 配置扩展名和MIME类型的对应关系；</p>
<p>Date：当前的GMT时间。你可以用setDateHeader来设置这个头以避免转换时间格式的麻烦；</p>
<p>Expires：指明应该在什么时候认为文档已经过期，从而不再缓存它。</p>
<p>Last-Modified：文档的最后改动时间。客户可以通过If-Modified-Since请求头提供一个日期，该请求将被视为一个条件GET，只有改动时间迟于指定时间的文档才会返回，否则返回一个304（Not Modified）状态。Last-Modified也可用setDateHeader方法来设置；</p>
<p>Location：表示客户应当到哪里去提取文档。Location通常不是直接设置的，而是通过HttpServletResponse的sendRedirect方法，该方法同时设置状态代码为302；</p>
<p>Refresh：表示浏览器应该在多少时间之后刷新文档，以秒计。除了刷新当前文档之外，你还可以通过setHeader(“Refresh”, “5; URL=<a href="http://host/path&quot;)让浏览器读取指定的页面。注意这种功能通常是通过设置HTML页面HEAD区的`">http://host/path&quot;)让浏览器读取指定的页面。注意这种功能通常是通过设置HTML页面HEAD区的`</a><META HTTP-EQUIV="Refresh" CONTENT="5;URL=http://host/path"><code>实现，这是因为，自动刷新或重定向对于那些不能使用CGI或Servlet的HTML编写者十分重要。但是，对于Servlet来说，直接设置 Refresh头更加方便。注意Refresh的意义是“N秒之后刷新本页面或访问指定页面”，而不是“每隔N秒刷新本页面或访问指定页面”。因此，连续 刷新要求每次都发送一个Refresh头，而发送204状态代码则可以阻止浏览器继续刷新，不管是使用Refresh头还是</code><META HTTP-EQUIV="Refresh" ...>`。注意Refresh头不属于HTTP 1.1正式规范的一部分，而是一个扩展，但Netscape和IE都支持它。</p>
</script></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/30/vue(3)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="superDjy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="С�����ľ���">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/30/vue(3)/" itemprop="url">Vue.js基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-30T00:00:00+08:00">
                2017-06-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vue-js/" itemprop="url" rel="index">
                    <span itemprop="name">Vue.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/30/vue(3)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/06/30/vue(3)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/06/30/vue(3)/" class="leancloud_visitors" data-flag-title="Vue.js基础">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Vue基础知识"><a href="#Vue基础知识" class="headerlink" title="Vue基础知识"></a>Vue基础知识</h1><h2 id="虚拟dom的概念"><a href="#虚拟dom的概念" class="headerlink" title="虚拟dom的概念"></a>虚拟dom的概念</h2><p>在一个HTML中，DOM节点通常表示如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&apos;myId&apos;&gt;</div><div class="line">  &lt;li&gt;Item 1&lt;/li&gt;</div><div class="line">  &lt;li&gt;Item 2&lt;/li&gt;</div><div class="line">&lt;ul&gt;</div></pre></td></tr></table></figure></p>
<p>DOM 节点也可以表示 JavaScript 中的对象，像这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Let domNode = &#123;</div><div class="line">  tag: &apos;ul&apos;</div><div class="line">  attributes: &#123; id: &apos;myId&apos; &#125;</div><div class="line">  children: [</div><div class="line">    // where the LI&apos;s would go</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>这就是我们的“虚拟”DOM，更新虚拟节点的开销不大，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">domNode.children.push(&apos;&lt;ul&gt;Item 3&lt;/ul&gt;&apos;);</div></pre></td></tr></table></figure></p>
<p>当使用虚拟DOM，而不是直接在代码中调用类似.getElementById的DOM API方法，操作就会像改变JS对象一样非常的简单省时。所有的操作均在虚拟dom中实现，最后一次性完成dom渲染。</p>
<p><strong>Vue2.0的版本对于之前的版本进行了很大的瘦身，如果原生js能够实现的，就舍弃vue，直接用原生js实现。</strong></p>
<h2 id="过滤器-filter-的介绍"><a href="#过滤器-filter-的介绍" class="headerlink" title="过滤器(filter)的介绍"></a>过滤器(filter)的介绍</h2><p>Vue中过滤器是对于接口返回的字段进行业务(形式)上的转换。</p>
<h2 id="vue实例"><a href="#vue实例" class="headerlink" title="vue实例"></a>vue实例</h2><p>在一些多页应用中，可以直接建立vue实例，然后通过<script>标签引入。</p>
<p>下面举一个过滤器在<template>中使用的小例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;&#123;&#123;data | formateMoney&#125;&#125;&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;div v-for=&quot;(item,index) in formateSlice &quot;&gt;</div><div class="line">//以函数的形式，当有参数是则为formateMoney(value)</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">	el:&quot;#app&quot;,	//所对应需要渲染的部分块</div><div class="line"></div><div class="line">	data:&#123;</div><div class="line">		getData:[]</div><div class="line">	&#125;,</div><div class="line">	filters:&#123;</div><div class="line">		formateMoney:function(value)&#123;//这里传入进来的参数即为过滤器前的数值</div><div class="line">			return value+&quot;处理过程&quot;</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	computed:&#123;</div><div class="line">		formateSplice:function()&#123;</div><div class="line">			return this.getData.slice(0,n)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	mounted:function()&#123;		</div><div class="line">	//页面加载完成后所需进行的操作,只使用mounted钩子并不能保证实例已经插入文档，还需要在实例中包含vue.$nextTick</div><div class="line"></div><div class="line">	this.$nextTick(function()&#123;</div><div class="line">		this.cart();</div><div class="line">	&#125;)</div><div class="line">	</div><div class="line">		</div><div class="line">	&#125;,</div><div class="line">	</div><div class="line">	methods:&#123;</div><div class="line">		cart:function()&#123;</div><div class="line">			this.$http.get().then(function()&#123;	//调用vue-resource方法取数据，利用promise.then(</div><div class="line">				res=&gt;&#123;</div><div class="line">					this.getData=res.data;</div><div class="line">					//这里使用箭头函数的好处在于，箭头函数无this指向，函数内的this指向外部，即函数内层的this和外层的this为同一指向</div><div class="line">				&#125;</div><div class="line">			)方法完成回调</div><div class="line">			</div><div class="line">			&#125;)</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line"></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>vue实例包括一些，实例属性，实例方法，和实例事件使用方法详见官网API教程。</p>
<h2 id="文档碎片"><a href="#文档碎片" class="headerlink" title="文档碎片"></a>文档碎片</h2><p>在页面中有一个ul，我们随着页面的某一个事件的触发，需要向#box中插入大量的li，正常的写法为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var oUl = document.querySelectorAll(&apos;#box&apos;)[0];</div><div class="line">        for(var i=0;i&lt;1000;i++)&#123;</div><div class="line">            var oLi = document.createElement(&apos;li&apos;);</div><div class="line">            var t = document.createTextNode(i+&apos;&apos;);</div><div class="line">            oLi.appendChild(t);</div><div class="line">            oUl.appendChild(oLi);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样是可以实现的，但是这样性能就无从提起了，因为每次oUl都重新绘制了一次，因为每次oUl都调用了appendChild方法，所以，就要借助一个叫文档碎片frag的东西，创建一个文档碎片：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var frag = document.createDocumentFragment(),</div><div class="line">            oLi = null,</div><div class="line">            t = &apos;&apos;,</div><div class="line">            oUl = document.querySelectorAll(&apos;#box&apos;)[0];</div><div class="line">        for(var i = 0;i &lt; 10;i++)&#123;</div><div class="line">            oLi = document.createElement(&apos;li&apos;);</div><div class="line">            t = document.createTextNode(i + &apos;&apos;);</div><div class="line">            oLi.appendChild(t);</div><div class="line">            frag.appendChild(oLi);</div><div class="line">        &#125;</div><div class="line">        console.log(frag);</div></pre></td></tr></table></figure>
<p>这样也就触发了一次oUl的重新绘制,性能上会大大提高。<strong>在为DOM树添加新节点时文档碎片是非常有用的</strong></p>
<h2 id="vue的mvvm源码实现"><a href="#vue的mvvm源码实现" class="headerlink" title="vue的mvvm源码实现"></a>vue的mvvm源码实现</h2><p>双向数据绑定无非就是在单向绑定的基础上给可输入元素（input、textare等）添加了change(input)事件，来动态修改model和 view</p>
<h3 id="双向数据绑定原理"><a href="#双向数据绑定原理" class="headerlink" title="双向数据绑定原理"></a>双向数据绑定原理</h3><p><strong>从m到v:</strong></p>
<p>数据劫持:vue.js是采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p>
<p><strong>从v到m</strong>(数据绑定关系的识别过程)</p>
<p>在vue中通过在HTML中<strong>添加指令的方式</strong>，将<strong>视图元素与数据的绑定关系进行声明</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;form id=&quot;test&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#test&apos;,</div><div class="line">  data: &#123;</div><div class="line">    name: &apos;luobo&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>由于双向数据绑定已经建立，因此：执行 vm.name = ‘mickey’ 后，页面上 input 也会更新为显示： mickey。在页面文本框中修改内容为：tang，则通过vm.name 获取的值为：”tang”。那么初始化的过程中，Vue 是如何识别出这种绑定关系的呢？</p>
<p>具体过程是：在初始化过程中（new Vue() 执行时），主要执行两个步骤：</p>
<p>（1）compile：compile 过程中，对于<strong>给定的目标元素进行解析，识别出所有绑定在元素（通过 el 属性传入）上的指令</strong>。compile主要做的事情是解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图。</p>
<p>（2）link：link过程中，建立这些<strong>指令与对应数据（通过 data 属性传入初始值）的绑定关系</strong>，<strong>并以数据的初始值进行渲染。绑定关系建立后，就可以双向同步数据了</strong></p>
<p>MVVM作为数据绑定的入口，整合Observer、Compile和Watcher三者，通过Observer来监听自己的model数据变化，通过Compile来解析编译模板指令，最终利用Watcher搭起Observer和Compile之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据model变更的双向绑定效果。</p>
<p>实现思路：</p>
<p>1.实现数据监听器observer,重新定义data，为data上每个属性增加setter,getter以监听数据的变化</p>
<p>2.实现指令解析器compile,扫描模版template，提取每个dom节点中的指令信息，对每个元素节点的指令进行扫描和解析，根据指令模板替换数据，以及绑定相应的节点更新函数。因为遍历解析的过程有多次操作dom节点，为提高性能和效率，会先将跟节点el转换成文档碎片fragment进行解析编译操作，解析完成，再将fragment添加回原来的真实dom节点中</p>
<p>3.实现directive,通过指令信息实例化对应的directive实例,不同类型的directive拥有不同的刷新函数update</p>
<p>4.实现watcher,作为连接Observer和Compile的桥梁，能够订阅并收到每个属性变动的通知，执行指令绑定的相应回调函数，让observer的属性监听函数与directive的update函数做一一对应,以实现数据变化后更新视图。</p>
<p>主要做的事情是: 1、在自身实例化时往属性订阅器(dep)里面添加自己 2、自身必须有一个update()方法 3、待属性变动dep.notice()通知时，能调用自身的update()方法，并触发Compile中绑定的回调，则功成身退</p>
<p>5.mvvm入口函数，整合以上三者</p>
<h2 id="掘金流程"><a href="#掘金流程" class="headerlink" title="掘金流程"></a>掘金流程</h2><p>实现MVVM过程：</p>
<p>首先将该任务分成几个子任务：</p>
<p><strong>1、输入框以及文本节点与data中的数据绑定</strong></p>
<p><strong>2、输入框内容变化时，data中的数据同步变化。即view =&gt; model的变化。</strong></p>
<p><strong>3、data中的数据变化时，文本节点的内容同步变化。即model =&gt; view的变化。</strong></p>
<p>要实现任务一，需要对DOM进行编译，这里有一个知识点：DocumentFragment。</p>
<p>（1）DocumentFragment（文档片段）可以看作节点容器，它可以包含多个子节点，当我们将它插入到DOM中时，只有它的子节点会插入目标节点，所以把它看作一组节点的容器。使用DocumentFragment处理节点，速度和性能远远优于直接操作DOM。Vue进行编译时，就是将挂载目标的所有子节点劫持（真的是劫持）到DocumentFragment中，经过一番处理后，再将DocumentFragment整体返回插入挂载目标。</p>
<p>（2）再来看任务二的实现思路：当我们在输入框输入数据的时候，首先触发input事件（或者keyup、change事件），在相应的事件处理程序中，我们获取输入框的value并赋值给vm实例的text属性。我们会利用defineProperty将data中的text劫持为vm的访问器属性，因此给vm.text赋值，就会触发set方法。在set方法中主要做两件事，第一是更新属性的值</p>
</script></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://img.mp.itc.cn/upload/20170429/a2379efc26214d7fa790af6105312132"
               alt="superDjy" />
          <p class="site-author-name" itemprop="name">superDjy</p>
           
              <p class="site-description motion-element" itemprop="description">Stay foolish Stay hungray</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">50</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/3262132644/home?wvr=5&sudaref=www.google.com.hk&retcode=6102" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                    
                      Weibo
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/djy1028" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">superDjy</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    

  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("47T3BxRMXIqlatB3fOpMnh1P-gzGzoHsz", "vUwh4kLezhjJyIlME1vvs4kU");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
